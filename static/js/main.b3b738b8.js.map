{"version":3,"file":"static/js/main.b3b738b8.js","mappings":"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","sources":["src/screens/Home/components/LessonCard.js","firebase.v9.js","src/services/home-services.js","src/screens/Home/components/DailyRewardCard.js","src/screens/Home/HomeScreen.js","src/screens/Leaderboard/components/LeaderboardTitle.js","src/shared/StyledAvatar/StyledAvatar.js","src/screens/Leaderboard/components/LeaderboardCard.js","src/shared/Transitions/SlidingView.js","src/screens/Leaderboard/LeaderboardScreen.js","src/services/leaderboard-services.js","src/styles/global.js","src/themes/palette.js","src/services/hooks/useAuth.js","src/services/notifications.js","src/services/authenticate.js","src/models/User.js","src/themes/theme.js","src/themes/dynamicPalette.js","src/contexts/ThemeContext.js","src/shared/TextInput/StyledTextInput.js","src/screens/Login/LoginScreen.js","src/screens/Signup/SignUp.js","src/screens/Lessons/components/SeasonCard.js","src/screens/Lessons/components/LearningPath.js","src/services/lessons-services.js","src/contexts/LessonsContext.js","src/screens/Lessons/SeasonsScreen.js","src/screens/Lessons/components/TimelineCircle.js","src/screens/Lessons/components/TimelineCardBody.js","src/screens/Lessons/components/TimelineCard.js","src/screens/Lessons/components/TimelineTitle.js","src/screens/Lessons/LessonsTimeline.js","src/screens/Lessons/components/ProgressIndicator.js","src/screens/Lessons/components/LessonTitle.js","src/screens/Lessons/components/LessonContent.js","src/screens/Lessons/components/QuestionTitle.js","src/contexts/QuestionContext.js","src/screens/Lessons/components/AnswerCard.js","src/screens/Lessons/components/LessonQuestion.js","src/shared/Button/Button.js","src/screens/Lessons/components/Navigation.js","src/screens/Lessons/components/ContentNavigation.js","src/screens/Lessons/components/QuestionNavigation.js","src/screens/Lessons/components/AdaptableContent.js","src/screens/Lessons/components/FinishModal.js","src/screens/Lessons/LessonScreen.js","src/services/profile-services.js","src/contexts/ProfileContext.js","src/screens/Profile/components/ProfileCard.js","src/screens/Profile/components/ProfileList.js","src/contexts/LanguageContext.js","src/screens/Profile/components/LanguagePicker.js","src/screens/Profile/ProfileScreen.js","src/screens/Profile/components/ImagePicker.js","src/shared/Transitions/FadingView.js","src/shared/Notifications/PillNotification.js","src/screens/Profile/ProfileEditScreen.js","src/screens/MyCollection/components/CollectionTitle.js","src/screens/MyCollection/components/CollectionCard.js","src/shared/Transitions/BounceView.js","src/screens/MyCollection/MyCollectionScreen.js","src/services/rewards-services.js","src/shared/AppBar/AppbarMain.js","src/routes/HomeStack.js","src/shared/AppBar/AppbarStack.js","src/routes/LessonsStack.js","src/routes/LeaderboardStack.js","src/routes/ProfileStack.js","src/routes/BottomNavigation.js","src/screens/Signup/AppbarSignUp.js","src/routes/LoginStack.js","src/shared/ThemeWrapper/ThemeWrapper.js","App.js","extensions/stringCapitalize.js","webpack/bootstrap","webpack/runtime/amd options","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\nimport { Avatar } from 'react-native-paper';\r\n\r\nimport { useTheme, Surface, Button, Text } from 'react-native-paper';\r\nimport i18n from 'i18n-js';\r\n\r\nconst LessonCard = ({\r\n    thumbnailSize = 80,\r\n    lessonTitle = \"\",\r\n    lessonThumbnail,\r\n    onContinuePress\r\n}) => {\r\n    const { colors } = useTheme()\r\n    const themedCircleStyles = { borderColor: colors.surface }\r\n\r\n    return (\r\n        <Surface style={styles.surface} elevation={1}>\r\n            {lessonThumbnail &&\r\n                <Surface style={[styles.thumbnail, themedCircleStyles]}>\r\n                    <Avatar.Image size={thumbnailSize} source={lessonThumbnail} />\r\n                </Surface>\r\n            }\r\n            <Text variant=\"headlineSmall\" style={styles.headline}>\r\n                {lessonTitle}\r\n            </Text>\r\n            <Text variant=\"titleMedium\" style={styles.subheading}>\r\n                {i18n.t(\"home:Pick up where you left off\")}\r\n            </Text>\r\n            <Button\r\n                mode=\"contained\"\r\n                style={styles.buttonContainer}\r\n                contentStyle={styles.button}\r\n                onPress={onContinuePress}\r\n            >\r\n                {i18n.t(\"home:Continue\")}\r\n            </Button>\r\n        </Surface>\r\n    )\r\n}\r\n\r\nexport default LessonCard\r\n\r\nconst styles = StyleSheet.create({\r\n    surface: {\r\n        marginVertical: 20,\r\n        borderRadius: 16,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        paddingHorizontal: 20\r\n    },\r\n    thumbnail: {\r\n        borderRadius: 100,\r\n        borderWidth: 6,\r\n        marginTop: -30,\r\n        marginBottom: 5\r\n    },\r\n    headline: {\r\n        textAlign: \"center\",\r\n        fontSize: 20,\r\n        lineHeight: 25\r\n    },\r\n    subheading: {\r\n        textAlign: \"center\",\r\n        marginBottom: 10\r\n    },\r\n    buttonContainer: {\r\n        marginBottom: 18\r\n    },\r\n    button: {\r\n        paddingHorizontal: 10\r\n    }\r\n})","// Import the functions you need from the SDKs you need\r\nimport firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\nimport 'firebase/compat/storage';\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCseh9VwXNt07eHSVEpiyNsJDWw1b2aD8A\",\r\n    authDomain: \"festifybg.firebaseapp.com\",\r\n    projectId: \"festifybg\",\r\n    storageBucket: \"festifybg.appspot.com\",\r\n    messagingSenderId: \"939551607694\",\r\n    appId: \"1:939551607694:web:870238ee26486d2a3b72df\"\r\n};\r\n\r\n// Initialize Firebase\r\nlet app;\r\n\r\nif (firebase.apps.length === 0) {\r\n    app = firebase.initializeApp(firebaseConfig);\r\n}\r\nelse { app = firebase.app(); }\r\n\r\n// Authentication\r\nexport const auth = firebase.auth();\r\n\r\n// FireStore\r\nexport const firestore = firebase.firestore();\r\n\r\n// Storage\r\nexport const storage = firebase.storage();","import { firestore } from \"../../firebase.v9\";\r\n\r\nconst getNowNoTime = () => {\r\n    const now = new Date()\r\n    return new Date(\r\n        now.getFullYear(),\r\n        now.getMonth(),\r\n        now.getDate()\r\n    )\r\n}\r\n\r\nexport const findCurrentLesson = async (userId) => {\r\n    const userDocument = await firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n\r\n    if (!userDocument.exists) { return null }\r\n    const { current_lesson } = userDocument.data()\r\n\r\n    const seasonTimelineDoc = await firestore\r\n        .collection(\"seasons_timeline\")\r\n        .doc(current_lesson.season)\r\n        .get()\r\n\r\n    if (!seasonTimelineDoc.exists) { return null }\r\n    const { holidays } = seasonTimelineDoc.data()\r\n\r\n    return {\r\n        ...holidays[current_lesson.index],\r\n        ...current_lesson\r\n    }\r\n}\r\n\r\nexport const claimReward = async (userId, gainedXP) => {\r\n    const doc = await firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n\r\n    if (!doc.exists) { return }\r\n    const { xp } = doc.data()\r\n\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .update({\r\n            last_reward_claim: getNowNoTime().valueOf(),\r\n            xp: xp + gainedXP\r\n        })\r\n}\r\n\r\nexport const checkDailyReward = (userId) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n        .then(doc => {\r\n            if (!doc.exists) { return false }\r\n            const { last_reward_claim } = doc.data()\r\n            const lastClaimDate = new Date(last_reward_claim)\r\n\r\n            const nowNoTime = getNowNoTime()\r\n            return lastClaimDate.getTime() < nowNoTime.getTime()\r\n        })\r\n}","import React, { useEffect, useRef } from 'react';\r\nimport { StyleSheet, View, Animated } from 'react-native';\r\nimport { useTheme, Surface, Text, TouchableRipple } from 'react-native-paper';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport i18n from 'i18n-js';\r\n\r\nconst DailyRewardCard = ({ onRewardClaim, rewardAmount = 0 }) => {\r\n    const scaleValue = useRef(new Animated.Value(0)).current;\r\n    const { colors } = useTheme();\r\n\r\n    const startAnimation = () => {\r\n        Animated.spring(scaleValue, {\r\n            toValue: 1,\r\n            useNativeDriver: true,\r\n        }).start();\r\n    };\r\n\r\n    const exitAnimation = () => {\r\n        Animated.timing(scaleValue, {\r\n            toValue: 0,\r\n            duration: 300,\r\n            delay: 1500,\r\n            useNativeDriver: true,\r\n        }).start();\r\n    };\r\n\r\n    useEffect(() => { startAnimation() }, []);\r\n\r\n    const handleRewardClaim = () => {\r\n        onRewardClaim();\r\n        exitAnimation();\r\n    };\r\n\r\n    return (\r\n        <TouchableRipple\r\n            borderless\r\n            centered\r\n            style={styles.ripple}\r\n            onPress={handleRewardClaim}\r\n        >\r\n            <Animated.View\r\n                style={{ transform: [{ scale: scaleValue }] }}\r\n            >\r\n                <Surface style={styles.surface} elevation={2}>\r\n                    {rewardAmount > 0 ? (\r\n                        <Text style={[styles.reward, { color: colors.xp }]}>\r\n                            {rewardAmount} XP\r\n                        </Text>\r\n                    ) : (\r\n                        <AntDesign name=\"star\" size={60} color={colors.xp} />\r\n                    )}\r\n                    <Text style={styles.text}>{i18n.t('home:Daily Reward')}</Text>\r\n                </Surface>\r\n            </Animated.View>\r\n        </TouchableRipple>\r\n    );\r\n};\r\n\r\nexport default DailyRewardCard;\r\n\r\nconst styles = StyleSheet.create({\r\n    surface: {\r\n        paddingVertical: 20,\r\n        paddingHorizontal: 20,\r\n        borderRadius: 16,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    text: {\r\n        fontSize: 20,\r\n        paddingVertical: 8,\r\n    },\r\n    ripple: {\r\n        borderRadius: 16,\r\n    },\r\n    reward: {\r\n        fontSize: 26,\r\n        paddingVertical: 10,\r\n        fontWeight: 'bold',\r\n    },\r\n});\r\n","import { View } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React, { useCallback, useState } from 'react'\r\nimport LessonCard from './components/LessonCard'\r\nimport { useFocusEffect, useNavigation } from '@react-navigation/native'\r\nimport { ActivityIndicator } from 'react-native-paper'\r\nimport noImage from \"../../assets/images/no_image.jpg\"\r\nimport { auth } from '../../../firebase.v9'\r\n\r\nimport {\r\n    findCurrentLesson,\r\n    claimReward as claimRewardService,\r\n    checkDailyReward\r\n} from '../../services/home-services'\r\nimport DailyRewardCard from './components/DailyRewardCard'\r\n\r\nconst HomeScreen = () => {\r\n    const [currentLesson, setCurrentLesson] = useState(null)\r\n    const [dailyReward, setDailyReward] = useState(false)\r\n    const [rewardAmount, setRewardAmount] = useState(0)\r\n    const navigation = useNavigation()\r\n\r\n    const getCurrentLesson = async () => {\r\n        try {\r\n            const _currentLesson = await findCurrentLesson(auth.currentUser.uid)\r\n            setCurrentLesson(_currentLesson)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const getDailyReward = async () => {\r\n        setRewardAmount(0)\r\n        try {\r\n            const hasReward = await checkDailyReward(auth.currentUser.uid)\r\n            hasReward && setDailyReward(true)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const claimReward = async () => {\r\n        try {\r\n            const gainedXP = 10 + Math.round(Math.random() * 9) * 10\r\n            claimRewardService(auth.currentUser.uid, gainedXP)\r\n            setRewardAmount(gainedXP)\r\n            setTimeout(() => {\r\n                setDailyReward(false)\r\n            }, 2000)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const runSequential = async () => {\r\n        await getCurrentLesson()\r\n        await getDailyReward()\r\n    }\r\n\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            runSequential()\r\n        }, [auth.currentUser])\r\n    )\r\n\r\n    const handleContinuePress = () => {\r\n        const seasonName = currentLesson.season\r\n        const timelineName = seasonName.capitalize() + \" Timeline\"\r\n\r\n        const params = {\r\n            forSeason: seasonName,\r\n            title: seasonName.capitalize() + \" holidays\",\r\n            appBarTitle: timelineName\r\n        }\r\n        navigation.navigate(\"LessonsStack\", {\r\n            screen: \"Season Timeline\",\r\n            initial: false,\r\n            params\r\n        })\r\n    }\r\n\r\n    const getLessonThumbnail = () => {\r\n        return currentLesson.thumbnail ?\r\n            { uri: currentLesson.thumbnail } : noImage\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container} dataSet={{ media: ids.container }}>\r\n            {currentLesson ?\r\n                <View>\r\n                    <LessonCard\r\n                        lessonTitle={currentLesson.name}\r\n                        lessonThumbnail={getLessonThumbnail()}\r\n                        onContinuePress={handleContinuePress}\r\n                    />\r\n                    {dailyReward &&\r\n                        <DailyRewardCard\r\n                            onRewardClaim={claimReward}\r\n                            rewardAmount={rewardAmount}\r\n                        />\r\n                    }\r\n                </View> :\r\n                <ActivityIndicator\r\n                    style={styles.activityIndicator}\r\n                    size=\"large\"\r\n                />\r\n            }\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    container: {\r\n        padding: 40,\r\n        flex: 1,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            width: \"50%\",\r\n            alignSelf: \"center\",\r\n        }\r\n    },\r\n    activityIndicator: {\r\n        flex: 1\r\n    }\r\n})\r\n\r\nexport default HomeScreen","import React from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\nimport { Text } from 'react-native-paper'\r\nimport i18n from 'i18n-js'\r\n\r\nconst LeaderboardTitle = () => {\r\n    return (\r\n        <View>\r\n            <Text style={styles.title}>\r\n                {i18n.t(\"leaderboard:Current leaderboard\")}\r\n            </Text>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default LeaderboardTitle\r\n\r\nconst styles = StyleSheet.create({\r\n    title: {\r\n        fontSize: 28,\r\n        fontWeight: \"bold\",\r\n    }\r\n})","import { View, StyleSheet } from 'react-native'\r\nimport React from 'react'\r\nimport { Avatar, useTheme } from 'react-native-paper'\r\n\r\nconst StyledAvatar = ({ username = \"\", image, size = 60, borderWidth = 4, style = null }) => {\r\n    const { colors } = useTheme()\r\n\r\n    return (\r\n        <View>\r\n            {image ?\r\n                (<View style={[{\r\n                    borderColor: colors.surface,\r\n                    borderWidth: borderWidth,\r\n                }, styles.avatar, style]} >\r\n                    <Avatar.Image size={size} source={{ uri: image }} />\r\n                </View>) :\r\n\r\n                (<View style={[{\r\n                    borderColor: colors.surface,\r\n                    borderWidth: borderWidth,\r\n                }, styles.avatar, style]} >\r\n                    <Avatar.Text\r\n                        size={size}\r\n                        label={username.substring(0, 2).toUpperCase()}\r\n                    />\r\n                </View>)\r\n            }\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    avatar: {\r\n        elevation: 2,\r\n        borderRadius: 100\r\n    }\r\n})\r\n\r\nexport default StyledAvatar","import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\nimport StyledAvatar from '../../../shared/StyledAvatar/StyledAvatar'\r\nimport { Surface, useTheme, Text } from 'react-native-paper'\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst LeaderboardCard = ({\r\n    avatar,\r\n    username = \"\",\r\n    xp = 0,\r\n    place = 0,\r\n}) => {\r\n    const { colors } = useTheme();\r\n\r\n    const medalColors = [\r\n        colors.gold,\r\n        colors.silver,\r\n        colors.bronze\r\n    ]\r\n\r\n    return (\r\n        <Surface style={styles.surfaceContainer} elevation={1}>\r\n            <View style={styles.content}>\r\n                <StyledAvatar\r\n                    size={50}\r\n                    username={username}\r\n                    image={avatar}\r\n                    style={[\r\n                        { borderColor: colors.surface },\r\n                        styles.styledAvatar\r\n                    ]}\r\n                />\r\n                <View style={styles.contentText}>\r\n                    <Text style={styles.username}>{username}</Text>\r\n                    <Text style={styles.xp}>{xp} XP</Text>\r\n                </View>\r\n                <View style={styles.contentPlace}>\r\n                    {place && place < 4\r\n                        ? <Ionicons\r\n                            name=\"ribbon\"\r\n                            size={24}\r\n                            color={medalColors[place - 1]}\r\n                        /> : null\r\n                    }\r\n                    {place ? <Text style={styles.placeText}>{place}</Text> : null}\r\n                </View>\r\n            </View>\r\n        </Surface>\r\n    )\r\n}\r\n\r\nexport default LeaderboardCard\r\n\r\nconst styles = StyleSheet.create({\r\n    surfaceContainer: {\r\n        paddingHorizontal: 20,\r\n        paddingVertical: 8,\r\n        borderRadius: 14,\r\n        margin: 5,\r\n    },\r\n    content: {\r\n        flexDirection: \"row\"\r\n    },\r\n    contentText: {\r\n        justifyContent: \"center\",\r\n        paddingHorizontal: 20\r\n    },\r\n    username: {\r\n        fontSize: 20\r\n    },\r\n    xp: {\r\n        fontSize: 14\r\n    },\r\n    contentPlace: {\r\n        flexDirection: \"row\",\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n    placeText: {\r\n        fontSize: 20,\r\n        fontWeight: \"600\",\r\n        paddingHorizontal: 5\r\n    }\r\n})","import React from 'react'\r\nimport { Dimensions } from 'react-native'\r\nimport { animated, useSpring } from '@react-spring/native'\r\n\r\nconst SlidingView = ({ delay = 0, direction = \"left\", children }) => {\r\n    const { width, height } = Dimensions.get(\"window\")\r\n\r\n    const edgeValues = {\r\n        left: -width,\r\n        right: width,\r\n        top: -height,\r\n        bottom: height\r\n    }\r\n\r\n    const startValue = edgeValues[direction] ?? edgeValues.left\r\n\r\n    const springConfig = useSpring({\r\n        position: startValue,\r\n        delay: delay,\r\n        from: { position: startValue },\r\n        to: { position: 0 },\r\n        config: {\r\n            mass: 1,\r\n            tension: 100,\r\n            friction: 15\r\n        }\r\n    })\r\n\r\n    const translateProperty =\r\n        direction === \"top\" || direction === \"bottom\" ?\r\n            \"translateY\" :\r\n            \"translateX\"\r\n\r\n    const springStyle = {\r\n        transform: [{ [translateProperty]: springConfig.position }]\r\n    }\r\n\r\n    return (\r\n        <animated.View style={springStyle}>\r\n            {children}\r\n        </animated.View>\r\n    )\r\n}\r\n\r\nexport default SlidingView","import { View, FlatList } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React, { useState, useCallback } from 'react'\r\nimport LeaderboardTitle from './components/LeaderboardTitle'\r\nimport LeaderboardCard from './components/LeaderboardCard'\r\nimport SlidingView from '../../shared/Transitions/SlidingView'\r\nimport { useFocusEffect } from '@react-navigation/native'\r\nimport { auth } from '../../../firebase.v9'\r\nimport {\r\n    updateUser,\r\n    findUserPlace,\r\n    updateUsersSorted\r\n} from '../../services/leaderboard-services'\r\n\r\nimport i18n from 'i18n-js'\r\n\r\nconst LeaderboardScreen = () => {\r\n    const [currentUser, setCurrentUser] = useState(null)\r\n    const [users, setUsers] = useState([])\r\n\r\n    const updateCurrentUser = async (userData) => {\r\n        try {\r\n            const _currentUser = { ...userData }\r\n            _currentUser.place = await findUserPlace(_currentUser.xp)\r\n            setCurrentUser(_currentUser)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            const unsubscribeUser =\r\n                updateUser(auth.currentUser.uid, updateCurrentUser, console.error)\r\n            let unsubscribeUsers = updateUsersSorted(setUsers, console.error)\r\n\r\n            return () => {\r\n                unsubscribeUser()\r\n                unsubscribeUsers()\r\n                setCurrentUser(null)\r\n                setUsers(null)\r\n            }\r\n        }, [])\r\n    )\r\n\r\n    return (\r\n        <View style={styles.container} dataSet={{ media: ids.container }}>\r\n            <FlatList\r\n                data={users}\r\n                keyExtractor={(user) => user.place}\r\n                renderItem={({ item: props, index }) => (\r\n                    <SlidingView delay={index * 200} direction={\"right\"}>\r\n                        <LeaderboardCard {...props} />\r\n                    </SlidingView>\r\n                )}\r\n                ListHeaderComponent={() => (\r\n                    <View>\r\n                        <LeaderboardTitle />\r\n                        {currentUser ? (\r\n                            <View\r\n                                style={styles.meCard}\r\n                            >\r\n                                <SlidingView>\r\n                                    <LeaderboardCard\r\n                                        {...currentUser}\r\n                                        username={i18n.t(\"leaderboard:Me\")}\r\n                                    />\r\n                                </SlidingView>\r\n                            </View>\r\n                        ) : null}\r\n                    </View>\r\n                )}\r\n                contentContainerStyle={styles.topUsersContainer}\r\n                showsVerticalScrollIndicator={false}\r\n                showsHorizontalScrollIndicator={false}\r\n            />\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default LeaderboardScreen\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        paddingHorizontal: 15,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            width: \"60%\",\r\n            alignSelf: \"center\",\r\n        }\r\n    },\r\n    meCard: {\r\n        marginVertical: 30\r\n    },\r\n    activityIndicator: {\r\n        flex: 1,\r\n    },\r\n    topUsersContainer: {\r\n        paddingVertical: 20\r\n    },\r\n\r\n})","import { firestore } from \"../../firebase.v9\";\r\n\r\nexport const updateUser = (userId, snapshotHandler, errorHandler) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .onSnapshot(querySnapshot => {\r\n            const { xp, username, avatar } = querySnapshot.data()\r\n            snapshotHandler({ xp, username, avatar })\r\n        }, (error) => {\r\n            errorHandler(error)\r\n        })\r\n}\r\n\r\nexport const findUserPlace = (userXP) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .where(\"xp\", \">=\", userXP)\r\n        .get()\r\n        .then(querySnapshot => {\r\n            return querySnapshot.docs.reduce(acc => acc + 1, 0)\r\n        })\r\n}\r\n\r\nexport const updateUsersSorted = (snapshotHandler, errorHandler) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .orderBy(\"xp\", \"desc\")\r\n        .limit(100)\r\n        .onSnapshot(querySnapshot => {\r\n            const users = []\r\n            let currentPlace = 0\r\n\r\n            querySnapshot.forEach((doc) => {\r\n                const { xp, username, avatar } = doc.data()\r\n                users.push({\r\n                    xp, username, avatar,\r\n                    place: currentPlace + 1,\r\n                })\r\n                currentPlace++\r\n            })\r\n            snapshotHandler(users);\r\n        }, (error) => {\r\n            errorHandler(error)\r\n        })\r\n\r\n}","import { StyleSheet } from \"react-native\"\r\n\r\nexport default StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n})","import colors from \"./colors.json\"\r\n\r\nexport const palette = {\r\n    primary: colors.teal[\"600\"],\r\n    accent: colors.red[\"700\"],\r\n    danger: colors.red[\"a700\"],\r\n    success: colors.green[\"600\"],\r\n    info: colors.lightblue[\"400\"],\r\n    logo: colors.red[\"a700\"],\r\n    auth: colors.teal[\"400\"],\r\n    xp: colors.amber[\"800\"],\r\n    textDisabled: colors.grey[\"500\"],\r\n    gold: colors.yellow[\"800\"],\r\n    silver: colors.bluegrey[\"400\"],\r\n    bronze: colors.deeporange[\"900\"]\r\n}\r\n\r\nexport const surfaceMaterials = {\r\n    onSurfaceInput: {\r\n        light: colors.grey[\"100\"],\r\n        dark: colors.grey[\"850\"]\r\n    },\r\n    surfaceInput: {\r\n        light: colors.grey[\"50\"],\r\n        dark: colors.grey[\"850\"]\r\n    },\r\n    surfacePicker: {\r\n        light: colors.grey[\"50\"],\r\n        dark: colors.grey[\"850\"]\r\n    },\r\n    surfaceCard: {\r\n        light: colors.grey[\"50\"],\r\n        dark: colors.grey[\"850\"]\r\n    }\r\n}\r\n\r\nexport const customMaterials = {\r\n    divider: {\r\n        dark: colors.grey[\"800\"],\r\n        light: colors.grey[\"200\"]\r\n    }\r\n}","import { auth } from \"../../../firebase.v9\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nfunction useAuth() {\r\n    const [hasLoggedIn, setHasLoggedIn] = useState(false)\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setHasLoggedIn(Boolean(user))\r\n        })\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    return hasLoggedIn;\r\n}\r\n\r\n\r\nexport default useAuth;","import { Platform } from \"react-native\";\r\nimport * as Device from \"expo-device\";\r\nimport * as Notifications from \"expo-notifications\";\r\n\r\nNotifications.setNotificationHandler({\r\n    handleNotification: async () => ({\r\n        shouldShowAlert: true,\r\n        shouldPlaySound: true,\r\n        shouldSetBadge: false,\r\n    }),\r\n});\r\n\r\nexport async function registerForPushNotificationsAsync() {\r\n    let token;\r\n\r\n    if (Platform.OS === 'android') {\r\n        await Notifications.setNotificationChannelAsync('default', {\r\n            name: 'default',\r\n            importance: Notifications.AndroidImportance.MAX,\r\n            vibrationPattern: [0, 250, 250, 250],\r\n        });\r\n    }\r\n\r\n    if (Device.isDevice) {\r\n        const { status: existingStatus } = await Notifications.getPermissionsAsync();\r\n        let finalStatus = existingStatus;\r\n        if (existingStatus !== 'granted') {\r\n            const { status } = await Notifications.requestPermissionsAsync();\r\n            finalStatus = status;\r\n        }\r\n        if (finalStatus !== 'granted') {\r\n            alert('Failed to get push token for push notification!');\r\n            return;\r\n        }\r\n        token = (await Notifications.getExpoPushTokenAsync()).data;\r\n        console.log(token);\r\n    } else {\r\n        alert('Must use physical device for Push Notifications');\r\n    }\r\n\r\n    return token;\r\n}","import { auth, firestore } from \"../../firebase.v9\";\r\nimport { registerForPushNotificationsAsync } from \"../services/notifications\";\r\n\r\nexport const signUpUser = async (newUser) => {\r\n    const { username, email, password } = newUser;\r\n    const unlocked_seasons = [\"spring\"]\r\n    const unlocked_lessons = { spring: [0], summer: [0], autumn: [0], winter: [0] }\r\n    const completed_lessons = { spring: [], summer: [], autumn: [], winter: [] }\r\n    const current_lesson = { season: \"spring\", index: 0 }\r\n    const collected_rewards = []\r\n\r\n    const notification_token = await registerForPushNotificationsAsync()\r\n\r\n    const userData = {\r\n        username,\r\n        unlocked_seasons,\r\n        unlocked_lessons,\r\n        completed_lessons,\r\n        current_lesson,\r\n        collected_rewards,\r\n        last_reward_claim: 0,\r\n        xp: 0,\r\n        notification_token\r\n    }\r\n\r\n    const userCredentials = await auth.createUserWithEmailAndPassword(email, password)\r\n    const { uid } = userCredentials.user\r\n    return firestore.collection(\"users\")\r\n        .doc(uid)\r\n        .set(userData)\r\n}\r\n\r\nexport const logInUser = async (newUser) => {\r\n    const { email, password } = newUser;\r\n\r\n    const userCredentials = await auth.signInWithEmailAndPassword(email, password);\r\n    const user = userCredentials.user;\r\n\r\n    const userDoc = await firestore\r\n        .collection(\"users\")\r\n        .doc(user.uid)\r\n        .get()\r\n\r\n    if (!userDoc.exists) throw new Error(\"User not found\")\r\n    return user\r\n}\r\n\r\nexport const checkDuplicateUsername = async (username) => {\r\n    const querySnapshot = await firestore\r\n        .collection(\"users\")\r\n        .where(\"username\", \"==\", username)\r\n        .get();\r\n    return !querySnapshot.empty;\r\n}","export default class User {\r\n    constructor(username, email, password) {\r\n        this.username = username\r\n        this.email = email\r\n        this.password = password\r\n    }\r\n}\r\n\r\nexport class UserBuilder {\r\n    #username = null\r\n    #email = null\r\n    #password = null\r\n\r\n    username(username) {\r\n        this.#username = username;\r\n        return this;\r\n    }\r\n\r\n    email(email) {\r\n        this.#email = email;\r\n        return this;\r\n    }\r\n\r\n    password(password) {\r\n        this.#password = password;\r\n        return this;\r\n    }\r\n\r\n    build() {\r\n        return new User(this.#username, this.#email, this.#password);\r\n    }\r\n}","import {\r\n    configureFonts,\r\n    MD3LightTheme,\r\n    MD3DarkTheme,\r\n    adaptNavigationTheme\r\n} from 'react-native-paper';\r\n\r\nimport {\r\n    DefaultTheme as NavigationDefaultTheme,\r\n    DarkTheme as NavigationDarkTheme\r\n} from '@react-navigation/native';\r\n\r\nimport { palette, surfaceMaterials, customMaterials } from \"./palette\"\r\nimport { PaletteLight, PaletteDark } from './dynamicPalette';\r\n\r\nimport { Platform } from 'react-native';\r\n\r\nconst {\r\n    LightTheme: AdaptedNavigationDefaultTheme,\r\n    DarkTheme: AdaptedNavigationDarkTheme\r\n} = adaptNavigationTheme({\r\n    reactNavigationLight: NavigationDefaultTheme,\r\n    reactNavigationDark: NavigationDarkTheme\r\n})\r\n\r\nconst selectedFontFamily = Platform.select({\r\n    web: 'Roboto, \"Helvetica Neue\", Helvetica, Arial, sans-serif',\r\n    ios: 'System',\r\n    default: 'sans-serif'\r\n})\r\n\r\nconst fontConfig = { fontFamily: selectedFontFamily }\r\n\r\nexport const DefaultTheme = {\r\n    ...AdaptedNavigationDefaultTheme,\r\n    ...MD3LightTheme,\r\n    fonts: configureFonts(fontConfig),\r\n    roundness: 6,\r\n    version: 3,\r\n    colors: {\r\n        ...AdaptedNavigationDefaultTheme.colors,\r\n        ...MD3LightTheme.colors,\r\n        ...palette,\r\n        ...PaletteLight.colors,\r\n        onSurfaceInput: surfaceMaterials.onSurfaceInput.light,\r\n        surfaceInput: surfaceMaterials.surfaceInput.light,\r\n        surfacePicker: surfaceMaterials.surfacePicker.light,\r\n        surfaceCard: surfaceMaterials.surfaceCard.light,\r\n        textReverse: MD3DarkTheme.colors.text,\r\n        divider: customMaterials.divider.light\r\n    },\r\n};\r\n\r\nexport const DarkTheme = {\r\n    ...MD3DarkTheme,\r\n    ...AdaptedNavigationDarkTheme,\r\n    fonts: configureFonts({ config: fontConfig }),\r\n    roundness: 6,\r\n    version: 3,\r\n    colors: {\r\n        ...MD3DarkTheme.colors,\r\n        ...AdaptedNavigationDarkTheme.colors,\r\n        ...palette,\r\n        ...PaletteDark.colors,\r\n        onSurfaceInput: surfaceMaterials.onSurfaceInput.dark,\r\n        surfaceInput: surfaceMaterials.surfaceInput.dark,\r\n        surfacePicker: surfaceMaterials.surfacePicker.dark,\r\n        surfaceCard: surfaceMaterials.surfaceCard.dark,\r\n        textReverse: MD3LightTheme.colors.text,\r\n        divider: customMaterials.divider.dark\r\n    },\r\n};","export const PaletteLight = {\r\n    colors: {\r\n        \"primary\": \"rgb(0, 106, 106)\",\r\n        \"onPrimary\": \"rgb(255, 255, 255)\",\r\n        \"primaryContainer\": \"rgb(111, 247, 246)\",\r\n        \"onPrimaryContainer\": \"rgb(0, 32, 32)\",\r\n        \"secondary\": \"rgb(74, 99, 99)\",\r\n        \"onSecondary\": \"rgb(255, 255, 255)\",\r\n        \"secondaryContainer\": \"rgb(204, 232, 231)\",\r\n        \"onSecondaryContainer\": \"rgb(5, 31, 31)\",\r\n        \"tertiary\": \"rgb(75, 96, 124)\",\r\n        \"onTertiary\": \"rgb(255, 255, 255)\",\r\n        \"tertiaryContainer\": \"rgb(211, 228, 255)\",\r\n        \"onTertiaryContainer\": \"rgb(4, 28, 53)\",\r\n        \"error\": \"rgb(186, 26, 26)\",\r\n        \"onError\": \"rgb(255, 255, 255)\",\r\n        \"errorContainer\": \"rgb(255, 218, 214)\",\r\n        \"onErrorContainer\": \"rgb(65, 0, 2)\",\r\n        \"background\": \"rgb(250, 253, 252)\",\r\n        \"onBackground\": \"rgb(25, 28, 28)\",\r\n        \"surface\": \"rgb(250, 253, 252)\",\r\n        \"onSurface\": \"rgb(25, 28, 28)\",\r\n        \"surfaceVariant\": \"rgb(218, 229, 228)\",\r\n        \"onSurfaceVariant\": \"rgb(63, 73, 72)\",\r\n        \"outline\": \"rgb(111, 121, 121)\",\r\n        \"outlineVariant\": \"rgb(190, 201, 200)\",\r\n        \"shadow\": \"rgb(0, 0, 0)\",\r\n        \"scrim\": \"rgb(0, 0, 0)\",\r\n        \"inverseSurface\": \"rgb(45, 49, 49)\",\r\n        \"inverseOnSurface\": \"rgb(239, 241, 240)\",\r\n        \"inversePrimary\": \"rgb(76, 218, 218)\",\r\n        \"elevation\": {\r\n            \"level0\": \"transparent\",\r\n            \"level1\": \"rgb(238, 246, 245)\",\r\n            \"level2\": \"rgb(230, 241, 240)\",\r\n            \"level3\": \"rgb(223, 237, 236)\",\r\n            \"level4\": \"rgb(220, 235, 235)\",\r\n            \"level5\": \"rgb(215, 232, 232)\"\r\n        },\r\n        \"surfaceDisabled\": \"rgba(25, 28, 28, 0.12)\",\r\n        \"onSurfaceDisabled\": \"rgba(25, 28, 28, 0.38)\",\r\n        \"backdrop\": \"rgba(41, 50, 50, 0.4)\"\r\n    }\r\n}\r\n\r\n\r\nexport const PaletteDark = {\r\n    colors: {\r\n        \"primary\": \"rgb(76, 218, 218)\",\r\n        \"onPrimary\": \"rgb(0, 55, 55)\",\r\n        \"primaryContainer\": \"rgb(0, 79, 79)\",\r\n        \"onPrimaryContainer\": \"rgb(111, 247, 246)\",\r\n        \"secondary\": \"rgb(176, 204, 203)\",\r\n        \"onSecondary\": \"rgb(27, 53, 52)\",\r\n        \"secondaryContainer\": \"rgb(50, 75, 75)\",\r\n        \"onSecondaryContainer\": \"rgb(204, 232, 231)\",\r\n        \"tertiary\": \"rgb(179, 200, 232)\",\r\n        \"onTertiary\": \"rgb(28, 49, 75)\",\r\n        \"tertiaryContainer\": \"rgb(51, 72, 99)\",\r\n        \"onTertiaryContainer\": \"rgb(211, 228, 255)\",\r\n        \"error\": \"rgb(255, 180, 171)\",\r\n        \"onError\": \"rgb(105, 0, 5)\",\r\n        \"errorContainer\": \"rgb(147, 0, 10)\",\r\n        \"onErrorContainer\": \"rgb(255, 180, 171)\",\r\n        \"background\": \"rgb(25, 28, 28)\",\r\n        \"onBackground\": \"rgb(224, 227, 226)\",\r\n        \"surface\": \"rgb(25, 28, 28)\",\r\n        \"onSurface\": \"rgb(224, 227, 226)\",\r\n        \"surfaceVariant\": \"rgb(63, 73, 72)\",\r\n        \"onSurfaceVariant\": \"rgb(190, 201, 200)\",\r\n        \"outline\": \"rgb(136, 147, 146)\",\r\n        \"outlineVariant\": \"rgb(63, 73, 72)\",\r\n        \"shadow\": \"rgb(0, 0, 0)\",\r\n        \"scrim\": \"rgb(0, 0, 0)\",\r\n        \"inverseSurface\": \"rgb(224, 227, 226)\",\r\n        \"inverseOnSurface\": \"rgb(45, 49, 49)\",\r\n        \"inversePrimary\": \"rgb(0, 106, 106)\",\r\n        \"elevation\": {\r\n            \"level0\": \"transparent\",\r\n            \"level1\": \"rgb(28, 38, 38)\",\r\n            \"level2\": \"rgb(29, 43, 43)\",\r\n            \"level3\": \"rgb(31, 49, 49)\",\r\n            \"level4\": \"rgb(31, 51, 51)\",\r\n            \"level5\": \"rgb(32, 55, 55)\"\r\n        },\r\n        \"surfaceDisabled\": \"rgba(224, 227, 226, 0.12)\",\r\n        \"onSurfaceDisabled\": \"rgba(224, 227, 226, 0.38)\",\r\n        \"backdrop\": \"rgba(41, 50, 50, 0.4)\"\r\n    }\r\n}","import { createContext, useState, useEffect, useContext, useRef } from \"react\"\r\nimport { DefaultTheme, DarkTheme } from \"../themes/theme\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst ThemeContext = createContext()\r\n\r\nexport function useTheme() {\r\n    return useContext(ThemeContext)\r\n}\r\n\r\nexport function ThemeProvider({ children }) {\r\n    const [darkMode, setDarkMode] = useState(false)\r\n    const [currentTheme, setCurrentTheme] = useState(DefaultTheme)\r\n\r\n    useEffect(() => {\r\n        darkMode ? setCurrentTheme(DarkTheme) : setCurrentTheme(DefaultTheme)\r\n    }, [darkMode])\r\n\r\n    const isFirstRun = useRef(true);\r\n    useEffect(() => {\r\n        if (isFirstRun.current) {\r\n            isFirstRun.current = false\r\n            getTheme()\r\n        }\r\n        else { saveCurrentTheme() }\r\n    }, [currentTheme])\r\n\r\n    const changeTheme = (theme) => {\r\n        switch (theme) {\r\n            case 'default':\r\n                setDarkMode(false)\r\n                break;\r\n            case 'dark':\r\n                setDarkMode(true)\r\n                break\r\n            default:\r\n                setDarkMode(false)\r\n        }\r\n    }\r\n\r\n    const getTheme = async () => {\r\n        try {\r\n            const theme = await AsyncStorage.getItem(\"theme\")\r\n            if (theme !== null) {\r\n                changeTheme(theme)\r\n            }\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const saveCurrentTheme = async () => {\r\n        try {\r\n            await AsyncStorage\r\n                .setItem(\"theme\", darkMode ? \"dark\" : \"default\")\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const toggleTheme = () => { setDarkMode(!darkMode) }\r\n\r\n    const themeProviderData = {\r\n        darkMode,\r\n        currentTheme,\r\n        changeTheme,\r\n        toggleTheme\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={themeProviderData}>\r\n            {children}\r\n        </ThemeContext.Provider>\r\n    )\r\n}","import { StyleSheet, TextInput as TextInputMobile, View, Platform } from 'react-native'\r\nimport { TextInput as TextInputWeb } from 'react-native-web'\r\nimport React from 'react'\r\nimport { Text, useTheme } from 'react-native-paper'\r\nimport { useTheme as useThemeCustom } from '../../contexts/ThemeContext'\r\n\r\nconst isMobile = Platform.OS === 'ios' || Platform.OS === 'android'\r\nconst TextInput = isMobile ? TextInputMobile : TextInputWeb\r\n\r\nconst StyledTextInput = ({\r\n    error = false,\r\n    helperText = '',\r\n    helperTextStyles = {},\r\n    style,\r\n    disabled = false,\r\n    ...otherProps\r\n}) => {\r\n    const { colors } = useTheme();\r\n    const { darkMode } = useThemeCustom();\r\n\r\n    const inputThemeStyle = {\r\n        backgroundColor: darkMode ? colors.backdrop : colors.surfaceVariant,\r\n        color: disabled ? colors.outlineVariant : colors.onSurfaceVariant,\r\n    }\r\n\r\n    return (\r\n        <View>\r\n            <TextInput\r\n                style={[\r\n                    styles.input,\r\n                    style,\r\n                    inputThemeStyle\r\n                ]}\r\n                {...otherProps}\r\n                editable={!disabled}\r\n                selectTextOnFocus={!disabled}\r\n                placeholderTextColor={colors.textDisabled}\r\n            />\r\n            <Text style={[\r\n                styles.helperText,\r\n                {\r\n                    display: helperText ? \"flex\" : \"none\",\r\n                    color: error ? colors.danger : \"#333\"\r\n                },\r\n                helperTextStyles\r\n            ]}>\r\n                {helperText}\r\n            </Text>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default StyledTextInput\r\n\r\nconst styles = StyleSheet.create({\r\n    input: {\r\n        paddingHorizontal: 15,\r\n        paddingVertical: 10,\r\n        borderRadius: 10,\r\n        marginTop: 5,\r\n    },\r\n    helperText: {\r\n        fontSize: 14\r\n    }\r\n})","import { Keyboard, View, TouchableWithoutFeedback, Image } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React, { useEffect, useState } from 'react'\r\nimport globalStyles from '../../styles/global'\r\nimport { palette } from '../../themes/palette'\r\nimport logo from \"../../assets/images/logo.png\"\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport { useTheme, Button, Text, Surface } from 'react-native-paper';\r\nimport useAuth from '../../services/hooks/useAuth'\r\nimport { logInUser } from '../../services/authenticate'\r\nimport { UserBuilder } from '../../models/User'\r\n\r\nimport i18n from 'i18n-js'\r\nimport { Formik } from 'formik'\r\nimport * as Yup from \"yup\"\r\n\r\nimport { Platform } from 'react-native'\r\nimport StyledTextInput from '../../shared/TextInput/StyledTextInput'\r\n\r\nconst LoginScreen = () => {\r\n    const navigation = useNavigation()\r\n    const { colors } = useTheme()\r\n\r\n    const hasLoggedIn = useAuth()\r\n    const [generalError, setGeneralError] = useState(null)\r\n\r\n    const handleInputFocus = () => {\r\n        if (generalError) {\r\n            setGeneralError(null)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (hasLoggedIn) {\r\n            navigation.replace(\"BottomNavigation\")\r\n        }\r\n    }, [hasLoggedIn])\r\n\r\n    const handleSignUpPressed = () => {\r\n        navigation.navigate(\"SignUp\")\r\n    }\r\n\r\n    const handleTWFPress = () => {\r\n        switch (Platform.OS) {\r\n            case \"android\":\r\n            case \"ios\":\r\n                Keyboard.dismiss()\r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        // delete onPress\r\n        <TouchableWithoutFeedback onPress={handleTWFPress}>\r\n            <View style={[\r\n                globalStyles.container,\r\n                styles.container,\r\n                { backgroundColor: colors.auth }\r\n            ]} dataSet={{ media: ids.container }}>\r\n                <View style={styles.logoView} dataSet={{ media: ids.logoView }}>\r\n                    <Image source={logo} style={styles.logo} dataSet={{ media: ids.logo }} />\r\n                    <Text style={styles.logoText} dataSet={{ media: ids.logoText }}>\r\n                        Festify\r\n                    </Text>\r\n                </View>\r\n                <Formik\r\n                    initialValues={{\r\n                        email: '',\r\n                        password: '',\r\n                    }}\r\n\r\n                    validationSchema={Yup.object({\r\n                        email: Yup.string()\r\n                            .trim(i18n.t(\"auth:email-trim\"))\r\n                            .strict(true)\r\n                            .email(i18n.t(\"auth:email-email\"))\r\n                            .required(i18n.t(\"auth:email-required\")),\r\n\r\n                        password: Yup.string()\r\n                            .trim(i18n.t(\"auth:password-trim\"))\r\n                            .strict(true)\r\n                            .required(i18n.t(\"auth:password-required\")),\r\n                    })}\r\n\r\n                    onSubmit={(values, { setSubmitting }) => {\r\n                        const { email, password } = values\r\n\r\n                        const user =\r\n                            new UserBuilder()\r\n                                .email(email)\r\n                                .password(password)\r\n                                .build()\r\n\r\n                        logInUser(user)\r\n                            .catch(error => {\r\n                                setSubmitting(false)\r\n                                if (error.name = \"FirebaseAuthInvalidCredentialsException\")\r\n                                    setGeneralError(i18n.t(\"auth:invalid-credentials\"))\r\n                                else setGeneralError(i18n.t(\"auth:unknown-error\"))\r\n                            })\r\n                    }}\r\n                >{\r\n                        ({ values, touched, errors, handleBlur, handleChange, handleSubmit, isSubmitting, isValidating }) => (\r\n                            <Surface style={styles.surface} dataSet={{ media: ids.surface }}>\r\n                                <Text style={styles.title} variant=\"headlineMedium\" dataSet={{ media: ids.title }}>\r\n                                    {i18n.t(\"auth:Login\")}\r\n                                </Text>\r\n\r\n                                <View style={styles.inputContainer}>\r\n                                    <StyledTextInput\r\n                                        placeholder={i18n.t(\"auth:Email\")}\r\n                                        value={values.email}\r\n                                        onChangeText={handleChange(\"email\")}\r\n                                        onBlur={handleBlur(\"email\")}\r\n                                        onFocus={handleInputFocus}\r\n                                        style={styles.input}\r\n                                        error={touched.email && Boolean(errors.email)}\r\n                                        helperText={touched.email && errors.email}\r\n                                    />\r\n                                    <StyledTextInput\r\n                                        placeholder={i18n.t(\"auth:Password\")}\r\n                                        value={values.password}\r\n                                        onChangeText={handleChange(\"password\")}\r\n                                        onBlur={handleBlur(\"password\")}\r\n                                        onFocus={handleInputFocus}\r\n                                        style={styles.input}\r\n                                        error={touched.password && Boolean(errors.password)}\r\n                                        helperText={touched.password && errors.password}\r\n                                        secureTextEntry\r\n                                    />\r\n                                    <Text\r\n                                        style={{\r\n                                            display: generalError ? \"flex\" : \"none\",\r\n                                            color: colors.danger,\r\n                                            textAlign: \"center\"\r\n                                        }}\r\n                                    >\r\n                                        {generalError}\r\n                                    </Text>\r\n                                </View>\r\n                                <View style={styles.buttonContainer}>\r\n                                    <Button\r\n                                        mode=\"contained\"\r\n                                        onPress={handleSubmit}\r\n                                        style={styles.button}\r\n                                        contentStyle={styles.buttonContent}\r\n                                        buttonColor={colors.accent}\r\n                                        disabled={isSubmitting || isValidating}\r\n                                    >\r\n                                        {i18n.t(\"auth:Login\")}\r\n                                    </Button>\r\n\r\n                                    <Button\r\n                                        mode=\"text\"\r\n                                        onPress={handleSignUpPressed}\r\n                                        style={styles.button}\r\n                                        contentStyle={styles.buttonContent}\r\n                                        textColor={colors.accent}\r\n                                        disabled={isSubmitting || isValidating}\r\n                                    >\r\n                                        {i18n.t(\"auth:Sign Up\")}\r\n                                    </Button>\r\n                                </View>\r\n                            </Surface>\r\n                        )}\r\n                </Formik>\r\n            </View>\r\n        </TouchableWithoutFeedback >\r\n    )\r\n}\r\n\r\nexport default LoginScreen\r\n\r\nconst { ids, styles } = StyleSheet.create({\r\n    container: {\r\n        flexDirection: \"column\",\r\n        justifyContent: \"flex-end\",\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flexDirection: \"row\"\r\n        }\r\n    },\r\n    inputContainer: {\r\n        width: \"80%\",\r\n    },\r\n    input: {\r\n        marginVertical: 5,\r\n    },\r\n    buttonContainer: {\r\n        width: \"60%\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 40\r\n    },\r\n    button: {\r\n        width: \"100%\",\r\n        marginVertical: 2\r\n    },\r\n    buttonContent: {\r\n        width: \"100%\",\r\n        padding: 5,\r\n        alignItems: \"center\"\r\n    },\r\n    logo: {\r\n        alignSelf: \"center\",\r\n        width: 100,\r\n        height: 100,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            width: 130,\r\n            height: 130,\r\n        }\r\n    },\r\n    logoText: {\r\n        fontSize: 45,\r\n        fontFamily: \"PacificoRegular\",\r\n        color: palette.logo,\r\n        alignSelf: \"center\",\r\n        marginBottom: 60,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            fontSize: 70,\r\n            marginBottom: 0\r\n        }\r\n    },\r\n    surface: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        paddingHorizontal: 20,\r\n        paddingVertical: 40,\r\n        borderTopLeftRadius: 30,\r\n        borderTopRightRadius: 30,\r\n        elevation: 4,\r\n        width: \"100%\",\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flex: 1,\r\n            marginRight: 140,\r\n            maxWidth: 500,\r\n            borderRadius: 30,\r\n            paddingBottom: 30\r\n        }\r\n    },\r\n    logoView: {\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flex: 1,\r\n            marginHorizontal: 80\r\n        }\r\n    },\r\n    title: {\r\n        display: \"none\",\r\n        marginBottom: 20,\r\n        width: \"80%\",\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            display: \"flex\"\r\n        }\r\n    }\r\n\r\n})","import { View, TouchableWithoutFeedback, Keyboard, Platform } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React from 'react'\r\nimport { useTheme, Surface, Button, Text } from 'react-native-paper'\r\nimport globalStyles from '../../styles/global'\r\nimport StyledTextInput from '../../shared/TextInput/StyledTextInput'\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport i18n from 'i18n-js'\r\nimport User from '../../models/User'\r\nimport { signUpUser, checkDuplicateUsername } from '../../services/authenticate'\r\n\r\nimport { Formik } from 'formik'\r\nimport * as Yup from \"yup\"\r\n\r\nconst SignUp = () => {\r\n    const { colors } = useTheme();\r\n    const navigation = useNavigation()\r\n\r\n    const handleLoginPressed = () => { navigation.navigate(\"Login\") }\r\n    const handleTWFPress = () => {\r\n        switch (Platform.OS) {\r\n            case \"android\":\r\n            case \"ios\":\r\n                Keyboard.dismiss()\r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <TouchableWithoutFeedback\r\n            onPress={handleTWFPress}\r\n        >\r\n            <View\r\n                style={[\r\n                    globalStyles.container,\r\n                    styles.container,\r\n                    { backgroundColor: colors.auth }\r\n                ]}>\r\n\r\n                <Surface style={styles.surface} dataSet={{ media: ids.surface }}>\r\n                    <Text style={styles.title} variant=\"headlineSmall\" dataSet={{ media: ids.title }}>\r\n                        {i18n.t(\"auth:Sign Up\")}\r\n                    </Text>\r\n                    <Formik\r\n                        initialValues={{\r\n                            username: '',\r\n                            email: '',\r\n                            password: '',\r\n                            confirmPassword: ''\r\n                        }}\r\n\r\n                        validationSchema={Yup.object({\r\n                            username: Yup.string()\r\n                                .trim(i18n.t(\"auth:username-trim\"))\r\n                                .strict(true)\r\n                                .min(4, i18n.t(\"auth:username-min\").replace(\"{0}\", 4))\r\n                                .max(512, i18n.t(\"auth:username-max\").replace(\"{0}\", 512))\r\n                                .required(i18n.t(\"auth:username-required\")),\r\n\r\n                            email: Yup.string()\r\n                                .trim(i18n.t(\"auth:email-trim\"))\r\n                                .strict(true)\r\n                                .email(i18n.t(\"auth:email-email\"))\r\n                                .required(i18n.t(\"auth:email-required\")),\r\n\r\n                            password: Yup.string()\r\n                                .trim(i18n.t(\"auth:password-trim\"))\r\n                                .strict(true)\r\n                                .min(6, i18n.t(\"auth:password-min\").replace(\"{0}\", 6))\r\n                                .max(256, i18n.t(\"auth:password-max\").replace(\"{0}\", 256))\r\n                                .required(i18n.t(\"auth:password-required\")),\r\n\r\n                            confirmPassword: Yup.string()\r\n                                .oneOf([Yup.ref('password'), null], i18n.t(\"auth:password-confirm\"))\r\n                        })}\r\n\r\n                        onSubmit={async (values, { setErrors, setSubmitting }) => {\r\n                            const { username, email, password } = values\r\n                            try {\r\n                                const isDuplicate = await checkDuplicateUsername(username)\r\n                                if (isDuplicate) {\r\n                                    setErrors({\r\n                                        username: i18n.t(\"auth:username-exists\")\r\n                                    })\r\n                                    setSubmitting(false)\r\n                                    return\r\n                                }\r\n\r\n                                const newUser = new User(username, email, password)\r\n                                await signUpUser(newUser)\r\n\r\n                            } catch (error) {\r\n                                setSubmitting(false)\r\n                                if (error.code === \"auth/email-already-in-use\") {\r\n                                    setErrors({\r\n                                        email: i18n.t(\"auth:email-exists\")\r\n                                    })\r\n                                } else if (error.code === \"auth/invalid-email\") {\r\n                                    setErrors({\r\n                                        email: i18n.t(\"auth:email-email\")\r\n                                    })\r\n                                } else if (error.code === \"auth/operation-not-allowed\") {\r\n                                    alert(i18n.t(\"auth:operation-not-allowed\"))\r\n                                } else if (error.code === \"auth/weak-password\") {\r\n                                    setErrors({\r\n                                        password: i18n.t(\"auth:week-password\")\r\n                                    })\r\n                                }\r\n                                else { console.error(error) }\r\n                            }\r\n                        }}\r\n                    >{\r\n                            ({ values, touched, errors, handleBlur, handleChange, handleSubmit, isSubmitting, isValidating }) => (\r\n                                <View>\r\n                                    <View style={styles.inputContainer}>\r\n                                        <StyledTextInput\r\n                                            placeholder={i18n.t(\"auth:Username\")}\r\n                                            value={values.username}\r\n                                            onChangeText={handleChange(\"username\")}\r\n                                            onBlur={handleBlur(\"username\")}\r\n                                            style={styles.input}\r\n                                            error={touched.username && Boolean(errors.username)}\r\n                                            helperText={touched.username && errors.username}\r\n                                        />\r\n                                        <StyledTextInput\r\n                                            placeholder={i18n.t(\"auth:Email\")}\r\n                                            value={values.email}\r\n                                            onChangeText={handleChange(\"email\")}\r\n                                            onBlur={handleBlur(\"email\")}\r\n                                            style={styles.input}\r\n                                            error={touched.email && Boolean(errors.email)}\r\n                                            helperText={touched.email && errors.email}\r\n                                        />\r\n                                        <StyledTextInput\r\n                                            placeholder={i18n.t(\"auth:Password\")}\r\n                                            value={values.password}\r\n                                            onChangeText={handleChange(\"password\")}\r\n                                            onBlur={handleBlur(\"password\")}\r\n                                            style={styles.input}\r\n                                            error={touched.password && Boolean(errors.password)}\r\n                                            helperText={touched.password && errors.password}\r\n                                            secureTextEntry\r\n                                        />\r\n                                        <StyledTextInput\r\n                                            placeholder={i18n.t(\"auth:Confirm Password\")}\r\n                                            value={values.confirmPassword}\r\n                                            onChangeText={handleChange(\"confirmPassword\")}\r\n                                            onBlur={handleBlur(\"confirmPassword\")}\r\n                                            style={styles.input}\r\n                                            error={touched.confirmPassword && Boolean(errors.confirmPassword)}\r\n                                            helperText={touched.confirmPassword && errors.confirmPassword}\r\n                                            secureTextEntry\r\n                                        />\r\n                                    </View>\r\n                                    <View style={styles.buttonContainer}>\r\n                                        <Button\r\n                                            mode=\"text\"\r\n                                            onPress={handleLoginPressed}\r\n                                            style={styles.button}\r\n                                            contentStyle={styles.buttonContent}\r\n                                            textColor={colors.accent}\r\n                                        >\r\n                                            {i18n.t(\"auth:Login\")}\r\n                                        </Button>\r\n                                        <Button\r\n                                            mode=\"contained\"\r\n                                            onPress={handleSubmit}\r\n                                            style={[styles.button, styles.buttonRight]}\r\n                                            contentStyle={styles.buttonContent}\r\n                                            buttonColor={colors.accent}\r\n                                            disabled={isSubmitting || isValidating}\r\n                                        >\r\n                                            {i18n.t(\"auth:Sign Up\")}\r\n                                        </Button>\r\n                                    </View>\r\n                                </View>)}\r\n                    </Formik>\r\n\r\n                </Surface>\r\n\r\n            </View>\r\n        </TouchableWithoutFeedback>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    container: {\r\n        padding: 30\r\n    },\r\n    surface: {\r\n        width: \"100%\",\r\n        padding: 30,\r\n        paddingHorizontal: 40,\r\n        borderRadius: 15,\r\n        elevation: 3,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            width: \"50%\",\r\n            maxWidth: 600,\r\n            paddingVertical: 40\r\n        }\r\n    },\r\n    title: {\r\n        fontWeight: \"bold\",\r\n        paddingLeft: 5,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            marginBottom: 5\r\n        }\r\n    },\r\n    inputContainer: {\r\n        marginVertical: 10\r\n    },\r\n    input: {\r\n        marginVertical: 5\r\n    },\r\n    buttonContainer: {\r\n        flexDirection: \"row\"\r\n    },\r\n    button: {\r\n        flex: 1,\r\n        marginHorizontal: 5\r\n    },\r\n    buttonRight: {\r\n        flex: 4\r\n    }\r\n})","import { ImageBackground } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport { Card, Surface, TouchableRipple, Text } from 'react-native-paper'\r\nimport { MaterialIcons } from \"@expo/vector-icons\"\r\nimport React from 'react'\r\n\r\nconst SeasonCard = ({ title = \"\", subtitle = \"\", image, onCardPress, locked = true }) => {\r\n    return (\r\n        <Surface style={styles.surface}>\r\n            <ImageBackground\r\n                source={image}\r\n                style={styles.card}\r\n                imageStyle={styles.cardImage}\r\n            >\r\n                <TouchableRipple\r\n                    borderless\r\n                    onPress={locked ? null : onCardPress}\r\n                    style={styles.ripple}\r\n                    rippleColor={\r\n                        locked ? \"transparent\" : \"rgba(200, 255, 255, .4)\"\r\n                    }\r\n                >\r\n                    <Card.Content style={[\r\n                        styles.cardContent,\r\n                        { backgroundColor: locked ? 'rgba(0,0,0, 0.65)' : 'rgba(0,0,0, 0.35)' }\r\n                    ]} dataSet={{ media: ids.cardContent }}>\r\n                        <Text variant=\"titleLarge\" style={styles.text}>\r\n                            {title}\r\n                        </Text>\r\n                        <Text variant=\"bodyMedium\" style={[styles.text, styles.paragraph]}>\r\n                            {subtitle}\r\n                        </Text>\r\n                        {locked && <MaterialIcons\r\n                            name=\"lock\"\r\n                            size={25}\r\n                            style={styles.lock}\r\n                        />}\r\n                    </Card.Content>\r\n                </TouchableRipple>\r\n            </ImageBackground>\r\n        </Surface>\r\n    )\r\n}\r\n\r\nexport default SeasonCard\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    surface: {\r\n        flex: 1,\r\n        elevation: 4,\r\n        borderRadius: 10\r\n    },\r\n    card: {\r\n        flex: 1,\r\n        width: \"auto\",\r\n        height: \"auto\",\r\n    },\r\n    ripple: {\r\n        flex: 1,\r\n        borderRadius: 10,\r\n    },\r\n    cardContent: {\r\n        flex: 1,\r\n        paddingVertical: 20,\r\n        borderRadius: 10,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            justifyContent: \"flex-end\"\r\n        }\r\n    },\r\n    cardImage: {\r\n        borderRadius: 10,\r\n    },\r\n    text: {\r\n        color: \"white\"\r\n    },\r\n    lock: {\r\n        position: \"absolute\",\r\n        right: 10,\r\n        bottom: 10,\r\n        color: \"#ddd\"\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\n\r\nimport { Text } from \"react-native-paper\"\r\nimport i18n from 'i18n-js'\r\n\r\nconst LearningPath = () => {\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.text}>\r\n                {i18n.t(\"lessons:Learning\")}\r\n            </Text>\r\n            <Text style={styles.smallerText}>\r\n                {i18n.t(\"lessons:Path\")}\r\n            </Text>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default LearningPath\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        marginTop: 10,\r\n        marginBottom: 20\r\n    },\r\n    text: {\r\n        fontSize: 34,\r\n        fontWeight: \"bold\",\r\n        paddingLeft: 5\r\n    },\r\n    smallerText: {\r\n        fontWeight: \"bold\",\r\n        fontSize: 32,\r\n        paddingLeft: 5,\r\n        lineHeight: 34\r\n    }\r\n})","import { firestore } from \"../../firebase.v9\";\r\n\r\nexport const updateSeasonsDataBySeasonNames = (seasons, snapshotHandler, errorHandler) => {\r\n    const seasonReferences =\r\n        seasons.map(season => firestore.collection(\"seasons\").doc(season))\r\n\r\n    const unsubscribeArray = []\r\n    seasonReferences\r\n        .forEach(reference => {\r\n            const unsubscribe =\r\n                reference.onSnapshot((doc) => {\r\n                    if (!doc.exists) { return }\r\n\r\n                    const { card_count } = doc.data()\r\n                    const seasonName = doc.id\r\n\r\n                    const seasonsData = {\r\n                        [seasonName]: card_count\r\n                    }\r\n\r\n                    snapshotHandler(seasonsData)\r\n                }, (error) => {\r\n                    errorHandler(error)\r\n                })\r\n            unsubscribeArray.push(unsubscribe)\r\n        })\r\n\r\n    const unsubscribeFunction = () => unsubscribeArray.forEach(unsubscribe => unsubscribe())\r\n    return unsubscribeFunction\r\n}\r\n\r\nexport const updateUnlockedSeasons = (userId, snapshotHandler, errorHandler) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .onSnapshot(doc => {\r\n            snapshotHandler(doc.data()?.unlocked_seasons)\r\n        }, (error) => {\r\n            errorHandler(error)\r\n        })\r\n}\r\n\r\nexport const findTimelineDataBySeason = (season) => {\r\n    return firestore\r\n        .collection(\"seasons_timeline\")\r\n        .doc(season)\r\n        .get()\r\n        .then(doc => {\r\n            if (!doc.exists) { return null }\r\n            return doc.data()\r\n        })\r\n}\r\n\r\nexport const findUnlockedLessonsBySeason = (userId, season) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n        .then(doc => {\r\n            if (!doc.exists) { return null }\r\n            const { unlocked_lessons } = doc.data()\r\n            return unlocked_lessons[season]\r\n        })\r\n}\r\n\r\nexport const findLesson = (lessonRef) => {\r\n    return lessonRef\r\n        .get()\r\n        .then(doc => {\r\n            if (!doc.exists) { return null }\r\n            return doc.data()\r\n        })\r\n}\r\n\r\nexport const findReward = (rewardRef) => {\r\n    return rewardRef\r\n        .get()\r\n        .then(doc => {\r\n            if (!doc.exists) { return null }\r\n            return { ...doc.data(), id: doc.id }\r\n        })\r\n}\r\n\r\nexport const completeLesson =\r\n    async (userId, season, lessonIndex, gainedXP, rewardId = null) => {\r\n        const document = await firestore\r\n            .collection(\"users\")\r\n            .doc(userId)\r\n            .get()\r\n\r\n        if (!document.exists) { return }\r\n\r\n        const { completed_lessons, xp, collected_rewards } = document.data()\r\n        const withNewCompletedLesson = [\r\n            ...completed_lessons[season],\r\n            lessonIndex\r\n        ]\r\n\r\n        const updatedData = {\r\n            [`completed_lessons.${season}`]: withNewCompletedLesson,\r\n            xp: xp + gainedXP,\r\n        }\r\n\r\n        if (rewardId) {\r\n            const withNewReward = [...collected_rewards, rewardId]\r\n            updatedData.collected_rewards = withNewReward\r\n        }\r\n\r\n        return firestore\r\n            .collection(\"users\")\r\n            .doc(userId)\r\n            .update(updatedData)\r\n    }\r\n\r\nexport const checkCompletedLesson = (userId, season, lessonIndex) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n        .then(doc => {\r\n            if (!doc.exists) { return false }\r\n            const { completed_lessons } = doc.data()\r\n            return completed_lessons[season]?.includes(lessonIndex)\r\n        })\r\n}\r\n\r\nexport const unlockNewLesson = async (userId, season, lessonIndex) => {\r\n    const document = await firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n\r\n    if (!document.exists) { return }\r\n\r\n    const { unlocked_lessons } = document.data()\r\n    const withNewUnlockedLesson = [\r\n        ...unlocked_lessons[season],\r\n        lessonIndex\r\n    ]\r\n\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .update({\r\n            [`unlocked_lessons.${season}`]: withNewUnlockedLesson,\r\n            current_lesson: { season, index: lessonIndex }\r\n        })\r\n}\r\n\r\nexport const unlockNexSeason = async (userId, season) => {\r\n    const document = await firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n\r\n    if (!document.exists) { return }\r\n\r\n    const { unlocked_seasons } = document.data()\r\n    const withNewUnlockedSeason = [\r\n        ...unlocked_seasons,\r\n        season\r\n    ]\r\n\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .update({\r\n            unlocked_seasons: withNewUnlockedSeason,\r\n            current_lesson: { season, index: 0 }\r\n        })\r\n}\r\n\r\nexport const findCurrentLesson = async (userId) => {\r\n    const userDocument = await firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n\r\n    if (!userDocument.exists) { return null }\r\n    const { current_lesson } = userDocument.data()\r\n\r\n    return current_lesson\r\n}","import { createContext, useState, useContext, useCallback } from \"react\"\r\nimport { useFocusEffect } from \"@react-navigation/native\"\r\n\r\nimport { auth } from \"../../firebase.v9\"\r\nimport {\r\n    updateUnlockedSeasons,\r\n    updateSeasonsDataBySeasonNames,\r\n    findTimelineDataBySeason,\r\n    findUnlockedLessonsBySeason,\r\n    findLesson,\r\n    findReward,\r\n    findCurrentLesson,\r\n    completeLesson as completeLessonService,\r\n    checkCompletedLesson as checkCompletedLessonService,\r\n    unlockNewLesson as unlockNewLessonService,\r\n    unlockNexSeason as unlockNewSeasonService\r\n} from \"../services/lessons-services\"\r\n\r\nconst LessonsContext = createContext()\r\n\r\nexport function useLessonsInfo() {\r\n    return useContext(LessonsContext)\r\n}\r\n\r\nexport function LessonsProvider({ children }) {\r\n    const seasons = [\"spring\", \"summer\", \"autumn\", \"winter\"]\r\n\r\n    const [seasonsData, setSeasonsData] = useState({})\r\n\r\n    const [unlockedSeasons, setUnlockedSeasons] = useState([])\r\n    const [currentLessonRef, setCurrentLessonRef] = useState(null)\r\n    const [currentSeason, setCurrentSeason] = useState(null)\r\n    const [currentLessonIndex, setCurrentLessonIndex] = useState(-1)\r\n\r\n    const [lessonData, setLessonData] = useState(null)\r\n    const [rewardData, setRewardData] = useState(null)\r\n    const [currentStep, setCurrentStep] = useState(0)\r\n    const [lessonFinished, setLessonFinished] = useState(false)\r\n\r\n    const [counter, setCounter] = useState({\r\n        pageCount: 0,\r\n        questionCount: 0,\r\n        stepsCount: 0\r\n    })\r\n\r\n    const handleUpdatedSeasonsData = (newSeasonData) => {\r\n        setSeasonsData(prevSeasonsData => {\r\n            return {\r\n                ...prevSeasonsData,\r\n                ...newSeasonData\r\n            }\r\n        })\r\n    }\r\n\r\n    const getSeasonsData = () => {\r\n        const unsubscribeUnlockedSeasons =\r\n            updateUnlockedSeasons(\r\n                auth.currentUser.uid,\r\n                setUnlockedSeasons,\r\n                console.error\r\n            )\r\n\r\n        const unsubscribeSeasonsData =\r\n            updateSeasonsDataBySeasonNames(seasons, handleUpdatedSeasonsData, console.error)\r\n\r\n        return () => {\r\n            unsubscribeUnlockedSeasons()\r\n            unsubscribeSeasonsData()\r\n        }\r\n    }\r\n\r\n    const getTimelineDataBySeason = async (season) => {\r\n        try {\r\n            return await findTimelineDataBySeason(season)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const getUnlockedLessonsBySeason = async (season) => {\r\n        try {\r\n            return await findUnlockedLessonsBySeason(auth.currentUser.uid, season)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const determineCounts = (lessonData) => {\r\n        const { content, questions } = lessonData\r\n        const pageCount = content ? Object.keys(content).length : 0\r\n        const questionCount = questions ? questions.length : 0\r\n\r\n        setCounter((prevCounter) => ({\r\n            ...prevCounter,\r\n            pageCount,\r\n            questionCount,\r\n            stepsCount: pageCount + questionCount\r\n        }))\r\n    }\r\n\r\n    const getLessonReward = async (rewardRef) => {\r\n        if (!rewardRef) { return }\r\n        try {\r\n            const _reward = await findReward(rewardRef)\r\n            setRewardData(_reward)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const loadLessonData = async () => {\r\n        try {\r\n            const _lessonData = await findLesson(currentLessonRef)\r\n            const rewardRef = _lessonData.reward\r\n            await getLessonReward(rewardRef)\r\n\r\n            setLessonData(_lessonData)\r\n            determineCounts(_lessonData)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const unloadLessonData = () => {\r\n        setLessonData(null)\r\n        setRewardData(null)\r\n        setCurrentStep(0)\r\n        setLessonFinished(false)\r\n    }\r\n\r\n    const completeLesson = async () => {\r\n        const { xp_reward = 0 } = lessonData\r\n        try {\r\n            return await completeLessonService(\r\n                auth.currentUser.uid,\r\n                currentSeason,\r\n                currentLessonIndex,\r\n                xp_reward,\r\n                rewardData?.id\r\n            )\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const checkCompletedLesson = async () => {\r\n        try {\r\n            return await checkCompletedLessonService(\r\n                auth.currentUser.uid,\r\n                currentSeason,\r\n                currentLessonIndex,\r\n            )\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const unlockNewLesson = async () => {\r\n        try {\r\n            const nextLessonIndex = currentLessonIndex + 1\r\n            return await unlockNewLessonService(\r\n                auth.currentUser.uid,\r\n                currentSeason,\r\n                nextLessonIndex,\r\n            )\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const unlockNewSeason = async () => {\r\n        try {\r\n            const nextSeasonIndex = seasons.indexOf(currentSeason) + 1\r\n            const nextSeason = seasons[nextSeasonIndex]\r\n\r\n            if (typeof nextSeason === \"string\") {\r\n                return await unlockNewSeasonService(\r\n                    auth.currentUser.uid,\r\n                    nextSeason,\r\n                )\r\n            }\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const tryUnlockNewLessonOrSeason = () => {\r\n        const hasNext = !lessonData.last_for_season\r\n        if (hasNext) { unlockNewLesson() }\r\n        else { unlockNewSeason() }\r\n    }\r\n\r\n    const getCurrentLesson = async () => {\r\n        try {\r\n            return await findCurrentLesson(auth.currentUser.uid)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            if (auth.currentUser) {\r\n                const unsubscribe = getSeasonsData()\r\n                return () => {\r\n                    unsubscribe()\r\n                }\r\n            }\r\n        }, [auth.currentUser])\r\n    );\r\n\r\n    const lessonsData = {\r\n        seasons,\r\n        unlockedSeasons,\r\n        seasonsData,\r\n        currentLessonRef,\r\n        setCurrentLessonRef,\r\n        getTimelineDataBySeason,\r\n        getUnlockedLessonsBySeason,\r\n        loadLessonData,\r\n        unloadLessonData,\r\n        lessonData,\r\n        currentStep,\r\n        setCurrentStep,\r\n        counter,\r\n        lessonFinished,\r\n        setLessonFinished,\r\n        currentLessonIndex,\r\n        setCurrentLessonIndex,\r\n        currentSeason,\r\n        setCurrentSeason,\r\n        completeLesson,\r\n        checkCompletedLesson,\r\n        tryUnlockNewLessonOrSeason,\r\n        getCurrentLesson,\r\n        rewardData\r\n    }\r\n\r\n    return (\r\n        <LessonsContext.Provider value={lessonsData}>\r\n            {children}\r\n        </LessonsContext.Provider>\r\n    )\r\n}","import { View, ScrollView } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport React from 'react'\r\n\r\nimport SeasonCard from './components/SeasonCard'\r\nimport LearningPath from './components/LearningPath'\r\n\r\nimport springImage from \"../../assets/images/spring.jpg\"\r\nimport summerImage from \"../../assets/images/summer.jpg\"\r\nimport autumnImage from \"../../assets/images/autumn.jpg\"\r\nimport winterImage from \"../../assets/images/winter.jpg\"\r\n\r\nimport i18n from 'i18n-js'\r\nimport { useLessonsInfo } from '../../contexts/LessonsContext'\r\n\r\nconst SeasonsScreen = () => {\r\n    const navigation = useNavigation()\r\n    const {\r\n        seasonsData,\r\n        unlockedSeasons\r\n    } = useLessonsInfo()\r\n\r\n    const handleCardPress = (seasonName) => () => {\r\n        const timelineName = seasonName.capitalize() + \" Timeline\"\r\n\r\n        const params = {\r\n            forSeason: seasonName,\r\n            title: seasonName.capitalize() + \" holidays\",\r\n            appBarTitle: timelineName\r\n        }\r\n        navigation.navigate(\"Season Timeline\", params)\r\n    }\r\n\r\n    return (\r\n        <ScrollView\r\n            style={styles.flexContainer}\r\n            contentContainerStyle={styles.scrollContainer}\r\n            dataSet={{ media: ids.scrollContainer }}\r\n        >\r\n            <LearningPath />\r\n            <View style={styles.seasonsContainer} dataSet={{ media: ids.seasonsContainer }}>\r\n                <View style={styles.cardContainer} dataSet={{ media: ids.cardContainer }}>\r\n                    <SeasonCard\r\n                        title={i18n.t(\"lessons:Spring holidays\")}\r\n                        subtitle={(seasonsData.spring || 0) + \" \" + i18n.t(\"lessons:holidays\")}\r\n                        image={springImage}\r\n                        onCardPress={handleCardPress(\"spring\")}\r\n                        locked={!unlockedSeasons.includes(\"spring\")}\r\n                    />\r\n                </View>\r\n                <View style={styles.cardContainer} dataSet={{ media: ids.cardContainer }}>\r\n                    <SeasonCard\r\n                        title={i18n.t(\"lessons:Summer holidays\")}\r\n                        subtitle={(seasonsData.summer || 0) + \" \" + i18n.t(\"lessons:holidays\")}\r\n                        image={summerImage}\r\n                        onCardPress={handleCardPress(\"summer\")}\r\n                        locked={!unlockedSeasons.includes(\"summer\")}\r\n                    />\r\n                </View>\r\n                <View style={styles.cardContainer} dataSet={{ media: ids.cardContainer }}>\r\n                    <SeasonCard\r\n                        title={i18n.t(\"lessons:Autumn holidays\")}\r\n                        subtitle={(seasonsData.autumn || 0) + \" \" + i18n.t(\"lessons:holidays\")}\r\n                        image={autumnImage}\r\n                        onCardPress={handleCardPress(\"autumn\")}\r\n                        locked={!unlockedSeasons.includes(\"autumn\")}\r\n                    />\r\n                </View>\r\n                <View style={styles.cardContainer} dataSet={{ media: ids.cardContainer }}>\r\n                    <SeasonCard\r\n                        title={i18n.t(\"lessons:Winter holidays\")}\r\n                        subtitle={(seasonsData.winter || 0) + \" \" + i18n.t(\"lessons:holidays\")}\r\n                        image={winterImage}\r\n                        onCardPress={handleCardPress(\"winter\")}\r\n                        locked={!unlockedSeasons.includes(\"winter\")}\r\n                    />\r\n                </View>\r\n            </View>\r\n        </ScrollView >\r\n    )\r\n}\r\n\r\nexport default SeasonsScreen\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    cardContainer: {\r\n        marginVertical: 14,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flex: 1,\r\n            aspectRatio: 1 / .8,\r\n        }\r\n    },\r\n    flexContainer: {\r\n        flex: 1\r\n    },\r\n    scrollContainer: {\r\n        padding: 20,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            paddingHorizontal: 60\r\n        }\r\n    },\r\n    seasonsContainer: {\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            flexWrap: \"wrap\",\r\n            gap: 25,\r\n        }\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\nimport { Avatar } from 'react-native-paper';\r\nimport { MaterialIcons } from \"@expo/vector-icons\"\r\n\r\nimport { useTheme } from 'react-native-paper';\r\n\r\nconst TimelineCircle = ({ size = 80, image, locked = true }) => {\r\n    const { colors } = useTheme()\r\n\r\n    return (\r\n        <View style={[styles.circle, { borderColor: colors.elevation.level4 }]} >\r\n            {image && <Avatar.Image size={size} source={image} />}\r\n            {locked &&\r\n                <View style={styles.lockContainer}>\r\n                    <MaterialIcons\r\n                        name=\"lock\"\r\n                        size={25}\r\n                        style={{ color: colors.inverseOnSurface }}\r\n                    />\r\n                </View>\r\n            }\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default TimelineCircle\r\n\r\nconst styles = StyleSheet.create({\r\n    circle: {\r\n        borderRadius: 100,\r\n        borderWidth: 6,\r\n        zIndex: 2\r\n    },\r\n    lockContainer: {\r\n        backgroundColor: 'rgba(0,0,0, 0.35)',\r\n        position: \"absolute\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        borderRadius: 100,\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport { Text, useTheme } from 'react-native-paper'\r\nimport React from 'react'\r\nimport { TouchableRipple, Surface } from 'react-native-paper'\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useLessonsInfo } from '../../../contexts/LessonsContext';\r\n\r\nconst TimelineCardBody = ({\r\n  title = \"\",\r\n  date = \"\",\r\n  expanded = -1,\r\n  onExpand,\r\n  lessonIndex,\r\n  lessonRef\r\n}) => {\r\n  const { colors } = useTheme();\r\n  const navigation = useNavigation();\r\n  const { setCurrentLessonRef, setCurrentLessonIndex } = useLessonsInfo()\r\n\r\n  const handleExpandCard = () => {\r\n    if (expanded === lessonIndex) {\r\n      handlePlayPressed()\r\n      return;\r\n    }\r\n\r\n    onExpand(lessonIndex)\r\n  }\r\n\r\n  const handlePlayPressed = () => {\r\n    // Set in a context because params have to be serializable\r\n    setCurrentLessonRef(lessonRef)\r\n    setCurrentLessonIndex(lessonIndex)\r\n    navigation.navigate(\"Lesson Screen\")\r\n  }\r\n\r\n  return (\r\n    <Surface style={styles.container}>\r\n      <TouchableRipple\r\n        onPress={handleExpandCard}\r\n        style={styles.cardRipple}\r\n        borderless\r\n        centered\r\n      >\r\n        <View style={styles.contentWrapper}>\r\n          <View style={styles.content}>\r\n            <Text style={styles.title}>{title}</Text>\r\n            <Text style={styles.date}>{date}</Text>\r\n          </View>\r\n          {(expanded === lessonIndex) && <View>\r\n            <TouchableRipple\r\n              onPress={handlePlayPressed}\r\n              style={styles.playButton}\r\n              borderless\r\n              centered\r\n            >\r\n              <Ionicons\r\n                name=\"play-circle-outline\"\r\n                size={25}\r\n                color={colors.text}\r\n              />\r\n            </TouchableRipple>\r\n          </View>}\r\n        </View>\r\n      </TouchableRipple>\r\n    </Surface >\r\n  )\r\n}\r\n\r\nexport default TimelineCardBody\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    position: \"relative\",\r\n    left: -25,\r\n    borderRadius: 6,\r\n    elevation: 2,\r\n  },\r\n  cardRipple: {\r\n    borderRadius: 6\r\n  },\r\n  contentWrapper: {\r\n    paddingVertical: 8,\r\n  },\r\n  content: {\r\n    paddingHorizontal: 30,\r\n    paddingLeft: 45,\r\n  },\r\n  title: {\r\n    fontSize: 18\r\n  },\r\n  date: {\r\n    fontSize: 14,\r\n    lineHeight: 20\r\n  },\r\n  playButton: {\r\n    alignSelf: \"flex-end\",\r\n    borderRadius: 100,\r\n    paddingVertical: 1,\r\n    paddingHorizontal: 2,\r\n    marginHorizontal: 5,\r\n  }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\n\r\nimport TimelineCircle from './TimelineCircle'\r\nimport TimelineCardBody from './TimelineCardBody'\r\n\r\nimport { useTheme } from 'react-native-paper'\r\n\r\nconst TimelineCard = ({\r\n    title,\r\n    date,\r\n    image,\r\n    locked = true,\r\n    expanded = -1,\r\n    lessonIndex,\r\n    onExpand,\r\n    lessonRef\r\n}) => {\r\n    const { colors } = useTheme()\r\n\r\n    return (\r\n        <View style={styles.card}>\r\n            <View style={[styles.timeline, { borderColor: colors.primary }]} />\r\n            <TimelineCircle size={60} image={image} locked={locked} />\r\n            {!locked &&\r\n                <TimelineCardBody\r\n                    title={title}\r\n                    date={date}\r\n                    expanded={expanded}\r\n                    lessonIndex={lessonIndex}\r\n                    onExpand={onExpand}\r\n                    lessonRef={lessonRef}\r\n                />\r\n            }\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default TimelineCard\r\n\r\nconst styles = StyleSheet.create({\r\n    card: {\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        paddingVertical: 15,\r\n    },\r\n    timeline: {\r\n        position: \"absolute\",\r\n        width: 0,\r\n        borderLeftWidth: 3,\r\n        left: 34,\r\n        bottom: 0,\r\n        top: 0\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport { Text } from 'react-native-paper'\r\nimport React from 'react'\r\nimport i18n from 'i18n-js'\r\n\r\nconst TimelineTitle = ({ title }) => {\r\n    return (\r\n        <View>\r\n            <Text style={styles.title}>{i18n.t(title)}</Text>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default TimelineTitle\r\n\r\nconst styles = StyleSheet.create({\r\n    title: {\r\n        fontSize: 28,\r\n        fontWeight: \"bold\",\r\n        paddingVertical: 20,\r\n        paddingLeft: 10\r\n    }\r\n})","import { View, FlatList } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React, { useState, useCallback, useRef } from 'react'\r\n\r\nimport TimelineCard from './components/TimelineCard'\r\nimport TimelineTitle from './components/TimelineTitle'\r\n\r\nimport { useLessonsInfo } from '../../contexts/LessonsContext'\r\nimport { useFocusEffect } from '@react-navigation/native'\r\nimport { ActivityIndicator } from 'react-native-paper'\r\n\r\nimport noImage from \"../../assets/images/no_image.jpg\"\r\n\r\nconst LessonsTimeline = ({ route }) => {\r\n    const { forSeason, title } = route.params\r\n    const [expandedIndex, setExpandedIndex] = useState(-1)\r\n    const [cards, setCards] = useState([])\r\n    const [jumpToLessonIndex, setJumpToLessonIndex] = useState(-1)\r\n\r\n    const flatListRef = useRef(null)\r\n    const {\r\n        getTimelineDataBySeason,\r\n        getUnlockedLessonsBySeason,\r\n        getCurrentLesson,\r\n        setCurrentSeason\r\n    } = useLessonsInfo()\r\n\r\n    const remapHolidays = async (holidays) => {\r\n        const unlockedLessons =\r\n            await getUnlockedLessonsBySeason(forSeason);\r\n\r\n        return holidays.map((holiday, index) => ({\r\n            title: holiday.name || \"\",\r\n            date: holiday.celebrated_on || \"\",\r\n            image: holiday.thumbnail ? { uri: holiday.thumbnail } : noImage,\r\n            lessonRef: holiday.lessonRef,\r\n            locked: !Boolean(unlockedLessons?.includes(index)),\r\n            lessonIndex: index,\r\n            onExpand: setExpandedIndex\r\n        }))\r\n    }\r\n\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            (async () => {\r\n                const { holidays } = await getTimelineDataBySeason(forSeason)\r\n                const holidaysWithMeta = await remapHolidays(holidays)\r\n                setCards(holidaysWithMeta)\r\n                setCurrentSeason(forSeason)\r\n\r\n                const currentLesson = await getCurrentLesson()\r\n                setJumpToLessonIndex(\r\n                    forSeason === currentLesson.season ?\r\n                        currentLesson.index : -1\r\n                )\r\n            })()\r\n        }, [forSeason])\r\n    )\r\n\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            const scrollConditions =\r\n                jumpToLessonIndex !== -1\r\n                && flatListRef.current\r\n                && cards.length > 0\r\n\r\n            if (scrollConditions) {\r\n                flatListRef.current\r\n                    .scrollToIndex({ animated: true, index: jumpToLessonIndex });\r\n                setExpandedIndex(jumpToLessonIndex)\r\n            }\r\n        }, [cards, flatListRef.current, jumpToLessonIndex])\r\n    )\r\n\r\n    const handleOnScrollToIndexFailed = async (info) => {\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n        flatListRef.current?.scrollToIndex({ index: info.index, animated: true });\r\n    }\r\n\r\n    return (\r\n        <View style={styles.timelineWrapper} dataSet={{ media: ids.timelineWrapper }}>\r\n            <FlatList\r\n                style={styles.timeline}\r\n                dataSet={{ media: ids.timeline }}\r\n                data={cards}\r\n                ref={flatListRef}\r\n                onScrollToIndexFailed={handleOnScrollToIndexFailed}\r\n                renderItem={({ item: props }) => (\r\n                    <TimelineCard {...props} expanded={expandedIndex} />\r\n                )}\r\n                keyExtractor={card => card.lessonIndex}\r\n                ListHeaderComponent={() => (\r\n                    cards.length > 0 ?\r\n                        <View>\r\n                            <TimelineTitle title={`lessons:${title}`} />\r\n                        </View> : null\r\n                )}\r\n                ListEmptyComponent={() => (\r\n                    <ActivityIndicator size=\"large\" style={styles.indicator} />\r\n                )}\r\n                contentContainerStyle={styles.timelineContainer}\r\n                showsVerticalScrollIndicator={false}\r\n                showsHorizontalScrollIndicator={false}\r\n            />\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default LessonsTimeline\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    timelineWrapper: {\r\n        flex: 1,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            alignItems: \"center\"\r\n        }\r\n    },\r\n    timelineContainer: {\r\n        paddingBottom: 20,\r\n        paddingHorizontal: 20\r\n    },\r\n    timeline: {\r\n        flex: 1,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flex: \"auto\",\r\n            width: \"max-content\"\r\n        }\r\n    },\r\n    indicator: {\r\n        marginTop: \"80%\"\r\n    }\r\n})","import { View } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React from 'react'\r\n\r\nimport { useTheme } from 'react-native-paper'\r\n\r\nconst ProgressIndicator = ({ steps, currentStep }) => {\r\n    const { colors } = useTheme()\r\n\r\n    const stepMarkers = Array(steps)\r\n        .fill(null)\r\n        .map((_, id) => (\r\n            <View key={id} style={[\r\n                { backgroundColor: colors.primary },\r\n                currentStep === id ?\r\n                    { backgroundColor: colors.accent } : null,\r\n                styles.step\r\n            ]} />\r\n        ))\r\n\r\n    return (\r\n        <View style={styles.stepContainer} dataSet={{ media: ids.stepContainer }} >\r\n            {stepMarkers}\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default ProgressIndicator\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    stepContainer: {\r\n        marginTop: 30,\r\n        paddingHorizontal: 20,\r\n        paddingVertical: 20,\r\n        flexDirection: \"row\",\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            paddingHorizontal: \"10%\"\r\n        }\r\n    },\r\n    step: {\r\n        flex: 1,\r\n        height: 8,\r\n        marginHorizontal: 5,\r\n        borderRadius: 100,\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport { Text } from 'react-native-paper'\r\nimport React from 'react'\r\n\r\nconst LessonTitle = ({ title = \"\" }) => {\r\n    return (\r\n        <Text style={styles.title}>\r\n            {title}\r\n        </Text>\r\n    )\r\n}\r\n\r\nexport default LessonTitle\r\n\r\nconst styles = StyleSheet.create({\r\n    title: {\r\n        fontSize: 30,\r\n        paddingVertical: 10,\r\n        paddingLeft: 10,\r\n    }\r\n})","import React from 'react'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport { View, Image, ScrollView, Dimensions, Platform } from 'react-native'\r\nimport { Text } from 'react-native-paper'\r\n\r\nimport LessonTitle from './LessonTitle'\r\n\r\nconst LessonContent = ({ title, content }) => {\r\n    const constructComponent = (item, index) => {\r\n        switch (item.type) {\r\n            case \"text\":\r\n                return (\r\n                    <Text key={index} style={styles.text} dataSet={{ media: ids.text }}>\r\n                        {item.value}\r\n                    </Text>\r\n                )\r\n            case \"image\":\r\n                return (\r\n                    <View key={index} style={styles.imageContainer} dataSet={{ media: ids.imageContainer }}>\r\n                        <Image\r\n                            source={{ uri: item.value }}\r\n                            resizeMode=\"contain\"\r\n                            style={styles.image}\r\n                        />\r\n                    </View>\r\n                )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ScrollView\r\n            showsVerticalScrollIndicator={false}\r\n            showsHorizontalScrollIndicator={false}\r\n        >\r\n            <View style={styles.lessonContainer} dataSet={{ media: ids.lessonContainer }}>\r\n                {title && <LessonTitle title={title} />}\r\n\r\n                <View style={styles.contentContainer} dataSet={{ media: ids.contentContainer }}>\r\n                    {content && content.map((item, index) => (\r\n                        constructComponent(item, index)\r\n                    ))}\r\n                </View>\r\n            </View>\r\n        </ScrollView>\r\n    )\r\n}\r\n\r\nexport default LessonContent\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    lessonContainer: {\r\n        paddingHorizontal: 30,\r\n        paddingTop: 10,\r\n        flex: 1,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            paddingHorizontal: \"10%\",\r\n        }\r\n    },\r\n    contentContainer: {\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flexDirection: 'row',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'center',\r\n        }\r\n    },\r\n    imageContainer: {\r\n        marginVertical: 10,\r\n        height: Platform.OS == \"web\" ?\r\n            \"30vh\" :\r\n            Math.round(Dimensions.get(\"window\").width * 9 / 16),\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            flex: 1,\r\n            minWidth: \"49%\",\r\n            height: \"50vh\",\r\n            maxHeight: \"50vh\",\r\n            paddingHorizontal: 10\r\n        }\r\n    },\r\n    image: {\r\n        borderRadius: 4,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    text: {\r\n        flex: 1,\r\n        minWidth: \"51%\",\r\n        fontSize: 16,\r\n        lineHeight: 20,\r\n        paddingVertical: 10,\r\n        textAlign: \"justify\",\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            fontSize: 18,\r\n            lineHeight: 25,\r\n            paddingHorizontal: 10\r\n        }\r\n    }\r\n})\r\n","import { StyleSheet } from 'react-native'\r\nimport { Text } from 'react-native-paper'\r\nimport React from 'react'\r\n\r\nconst QuestionTitle = ({ title = \"\" }) => {\r\n    return (\r\n        <Text style={styles.title}>{title}</Text>\r\n    )\r\n}\r\n\r\nexport default QuestionTitle\r\n\r\nconst styles = StyleSheet.create({\r\n    title: {\r\n        textAlign: \"center\",\r\n        fontSize: 26,\r\n        paddingVertical: 20\r\n    }\r\n})","import { createContext, useState, useContext, useLayoutEffect } from \"react\"\r\n\r\nconst QuestionContext = createContext()\r\n\r\nexport function useQuestionInfo() {\r\n    return useContext(QuestionContext)\r\n}\r\n\r\nexport function QuestionProvider({ children, question }) {\r\n    const [currentChoice, setCurrentChoice] = useState(-1)\r\n    const [questionState, setQuestionState] = useState(\"normal\")\r\n\r\n    const resetQuestionState = () => {\r\n        setCurrentChoice(-1)\r\n        setQuestionState(\"normal\")\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n        resetQuestionState()\r\n    }, [question])\r\n\r\n    const checkAnswer = () => {\r\n        const { answer } = question\r\n        setQuestionState(currentChoice === answer ? \"correct\" : \"incorrect\")\r\n    }\r\n\r\n    const questionData = {\r\n        question,\r\n        currentChoice,\r\n        setCurrentChoice,\r\n        questionState,\r\n        resetQuestionState,\r\n        checkAnswer\r\n    }\r\n\r\n    return (\r\n        <QuestionContext.Provider value={questionData}>\r\n            {children}\r\n        </QuestionContext.Provider>\r\n    )\r\n}","import { StyleSheet, View } from 'react-native'\r\nimport React, { useState, useLayoutEffect } from 'react'\r\nimport { Surface, Text, TouchableRipple } from 'react-native-paper'\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nimport { useTheme } from 'react-native-paper'\r\nimport { useQuestionInfo } from '../../../contexts/QuestionContext';\r\n\r\nconst AnswerCard = ({ text = \"\", selectIndex }) => {\r\n    const [cardState, setCardState] = useState(\"normal\")\r\n    const { colors } = useTheme()\r\n    const themedStyle = {}\r\n\r\n    const {\r\n        currentChoice,\r\n        setCurrentChoice,\r\n        questionState,\r\n    } = useQuestionInfo()\r\n\r\n    useLayoutEffect(() => {\r\n        setCardState(currentChoice === selectIndex ? \"selected\" : \"normal\")\r\n    }, [currentChoice])\r\n\r\n    useLayoutEffect(() => {\r\n        setCardState(currentChoice === selectIndex ? questionState : \"normal\")\r\n    }, [questionState])\r\n\r\n    switch (cardState) {\r\n        case \"correct\":\r\n        case \"selected\":\r\n        case \"incorrect\":\r\n            themedStyle.borderWidth = 2\r\n            break\r\n        default:\r\n            themedStyle.borderWidth = 0\r\n    }\r\n\r\n    switch (cardState) {\r\n        case \"correct\":\r\n            themedStyle.borderColor = colors.success\r\n            break\r\n        case \"selected\":\r\n            themedStyle.borderColor = colors.primary\r\n            break\r\n        case \"incorrect\":\r\n            themedStyle.borderColor = colors.danger\r\n            break\r\n        default:\r\n            themedStyle.borderColor = \"transparent\"\r\n    }\r\n\r\n    const checkCardDisabled = () => {\r\n        switch (questionState) {\r\n            case \"correct\":\r\n            case \"incorrect\":\r\n                return true\r\n            default:\r\n                return false\r\n        }\r\n    }\r\n    const handleChoiceSelect = () => { setCurrentChoice(selectIndex) }\r\n\r\n    return (\r\n        <Surface\r\n            elevation={1}\r\n            style={[styles.cardSurface, themedStyle]}\r\n        >\r\n            <TouchableRipple\r\n                onPress={checkCardDisabled() ? null : handleChoiceSelect}\r\n                borderless\r\n                centered\r\n                style={styles.ripple}\r\n            >\r\n                <View style={styles.cardContent}>\r\n                    <Text style={styles.text}>\r\n                        {text}\r\n                    </Text>\r\n\r\n                    {cardState === \"correct\" ?\r\n                        <Ionicons name=\"checkmark\" size={24} color={colors.success} /> :\r\n                        cardState === \"incorrect\" ?\r\n                            <Ionicons name=\"close\" size={24} color={colors.danger} /> : null\r\n                    }\r\n                </View>\r\n            </TouchableRipple>\r\n        </Surface>\r\n    )\r\n}\r\n\r\nexport default AnswerCard\r\n\r\nconst styles = StyleSheet.create({\r\n    cardSurface: {\r\n        borderRadius: 6,\r\n        marginVertical: 6,\r\n    },\r\n    ripple: {\r\n        borderRadius: 6\r\n    },\r\n    cardContent: {\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\"\r\n    },\r\n    text: {\r\n        fontSize: 18,\r\n        paddingHorizontal: 15,\r\n        paddingVertical: 12\r\n    }\r\n})","import { View } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React from 'react'\r\n\r\nimport QuestionTitle from './QuestionTitle'\r\nimport AnswerCard from './AnswerCard'\r\nimport { useQuestionInfo } from '../../../contexts/QuestionContext'\r\n\r\nconst LessonQuestion = () => {\r\n    const { question } = useQuestionInfo()\r\n\r\n    return (\r\n        <View style={styles.questionContainer} dataSet={{ media: ids.questionContainer }}>\r\n            <QuestionTitle title={question.title} />\r\n            <View style={styles.answerContainer}>\r\n                {question.choices.map((choice, index) => (\r\n                    <AnswerCard\r\n                        key={index}\r\n                        text={choice}\r\n                        selectIndex={index}\r\n                    />\r\n                ))}\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default LessonQuestion\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    questionContainer: {\r\n        flex: 1,\r\n        paddingHorizontal: 30,\r\n        justifyContent: \"space-between\",\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            paddingHorizontal: \"10%\"\r\n        }\r\n    },\r\n    answerContainer: {\r\n        marginBottom: 30\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\nimport { Button as PaperButton, useTheme } from 'react-native-paper'\r\n\r\nconst Button = ({ children, style, size = 5, fullWidth = false, ...otherProps }) => {\r\n    const { colors } = useTheme()\r\n\r\n    return (\r\n        <View style={styles.buttonContainer}>\r\n            <PaperButton\r\n                style={[style, styles.button, { width: fullWidth ? \"100%\" : \"auto\" }]}\r\n                contentStyle={[styles.buttonContent, { padding: size }]}\r\n                color={colors.primary}\r\n                {...otherProps}\r\n            >\r\n                {children}\r\n            </PaperButton>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default Button\r\n\r\nconst styles = StyleSheet.create({\r\n    buttonContainer: {\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    button: {\r\n        marginVertical: 2,\r\n        justifyContent: \"center\",\r\n    },\r\n    buttonContent: {\r\n        width: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\n\r\nimport Button from '../../../shared/Button/Button'\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { IconButton } from 'react-native-paper';\r\n\r\nimport { useTheme } from 'react-native-paper';\r\nimport i18n from 'i18n-js';\r\n\r\nconst Navigation = ({\r\n    onBackButtonPress,\r\n    onActionButtonPress,\r\n    actionButtonText = \"\",\r\n    actionButtonDisabled = false\r\n}) => {\r\n    const { colors } = useTheme()\r\n\r\n    const themedStyles = {\r\n        borderTopColor: colors.divider,\r\n        backgroundColor: colors.surface\r\n    }\r\n\r\n    return (\r\n        <View style={[\r\n            styles.navigationContainer,\r\n            themedStyles\r\n        ]}>\r\n            <IconButton\r\n                icon={(props) => (\r\n                    <Ionicons\r\n                        name=\"caret-back-circle\"\r\n                        {...props}\r\n                        color={colors.accent}\r\n                    />\r\n                )}\r\n                size={35}\r\n                style={styles.backButton}\r\n                onPress={onBackButtonPress}\r\n            />\r\n            <Button\r\n                mode=\"contained\"\r\n                size={2}\r\n                style={styles.actionButton}\r\n                onPress={onActionButtonPress}\r\n                disabled={actionButtonDisabled}\r\n            >\r\n                {i18n.t(\"lessons:\" + actionButtonText)}\r\n            </Button>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default Navigation\r\n\r\nconst styles = StyleSheet.create({\r\n    navigationContainer: {\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n        borderTopWidth: 1,\r\n        paddingVertical: 2\r\n    },\r\n    backButton: {\r\n        margin: 0,\r\n        marginLeft: 20\r\n    },\r\n    actionButton: {\r\n        alignSelf: \"flex-end\",\r\n        marginRight: 20\r\n    },\r\n\r\n})","import React, { useState } from \"react\";\r\nimport { useLessonsInfo } from \"../../../contexts/LessonsContext\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport Navigation from \"./Navigation\";\r\n\r\nconst ContentNavigation = () => {\r\n    const navigation = useNavigation()\r\n\r\n    const {\r\n        currentStep,\r\n        setCurrentStep,\r\n        counter\r\n    } = useLessonsInfo()\r\n\r\n    const handleBackButtonPressed = () => {\r\n        if (currentStep > 0) {\r\n            setCurrentStep(currentStep - 1)\r\n            return\r\n        }\r\n\r\n        navigation.goBack()\r\n    }\r\n\r\n    const handleActionButtonPressed = () => {\r\n        const nextStep = currentStep + 1\r\n        if (nextStep < counter.stepsCount) {\r\n            setCurrentStep(nextStep)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Navigation\r\n            onBackButtonPress={handleBackButtonPressed}\r\n            onActionButtonPress={handleActionButtonPressed}\r\n            actionButtonText=\"Next\"\r\n            actionButtonDisabled={false}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ContentNavigation","import React, { useState, useEffect } from \"react\";\r\nimport { useQuestionInfo } from \"../../../contexts/QuestionContext\";\r\nimport { useLessonsInfo } from \"../../../contexts/LessonsContext\";\r\nimport Navigation from \"./Navigation\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nconst QuestionNavigation = () => {\r\n    const navigation = useNavigation()\r\n    const {\r\n        currentStep,\r\n        setCurrentStep,\r\n        counter,\r\n        setLessonFinished,\r\n        checkCompletedLesson,\r\n        tryUnlockNewLessonOrSeason\r\n    } = useLessonsInfo()\r\n\r\n    const [actionButtonText, setActionButtonText] = useState(\"Check\")\r\n\r\n    const {\r\n        currentChoice,\r\n        questionState,\r\n        resetQuestionState,\r\n        checkAnswer\r\n    } = useQuestionInfo();\r\n\r\n    const setActionTextFromState = (state) => {\r\n        switch (state) {\r\n            case \"correct\":\r\n                const nextStep = currentStep + 1\r\n                if (nextStep < counter.stepsCount) {\r\n                    setActionButtonText(\"Next\")\r\n                    break;\r\n                }\r\n                setActionButtonText(\"Finish\")\r\n                break;\r\n            case \"incorrect\":\r\n                setActionButtonText(\"Try again\")\r\n                break\r\n            case \"normal\":\r\n                setActionButtonText(\"Check\")\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setActionTextFromState(questionState)\r\n    }, [questionState])\r\n\r\n    const handleBackButtonPressed = () => {\r\n        if (currentStep > 0) {\r\n            setCurrentStep(currentStep - 1)\r\n            return\r\n        }\r\n\r\n        navigation.goBack()\r\n    }\r\n\r\n    const triggerLessonFinish = async () => {\r\n        const completed = await checkCompletedLesson()\r\n        if (completed) {\r\n            navigation.goBack()\r\n            return\r\n        }\r\n        setLessonFinished(true)\r\n        tryUnlockNewLessonOrSeason()\r\n    }\r\n\r\n    const goNext = () => {\r\n        const nextStep = currentStep + 1\r\n        if (nextStep < counter.stepsCount) {\r\n            setCurrentStep(nextStep)\r\n        }\r\n        else { triggerLessonFinish() }\r\n    }\r\n\r\n    const handleActionButtonPressed = () => {\r\n        switch (questionState) {\r\n            case \"correct\":\r\n                goNext()\r\n                break\r\n            case \"incorrect\":\r\n                resetQuestionState()\r\n                break\r\n            case \"normal\":\r\n                checkAnswer()\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    const checkActionDisabled = () => {\r\n        return currentChoice === -1 && questionState === \"normal\"\r\n    }\r\n\r\n    return (\r\n        <Navigation\r\n            onBackButtonPress={handleBackButtonPressed}\r\n            onActionButtonPress={handleActionButtonPressed}\r\n            actionButtonText={actionButtonText}\r\n            actionButtonDisabled={checkActionDisabled()}\r\n        />\r\n    )\r\n}\r\n\r\nexport default QuestionNavigation","import React, { Fragment } from 'react'\r\n\r\nimport LessonContent from './LessonContent'\r\nimport LessonQuestion from './LessonQuestion'\r\nimport { QuestionProvider } from '../../../contexts/QuestionContext'\r\nimport ContentNavigation from './ContentNavigation'\r\nimport QuestionNavigation from './QuestionNavigation'\r\n\r\nconst AdaptableContent = ({ lesson, counter, currentStep }) => {\r\n    const { pageCount, stepsCount } = counter\r\n\r\n    const getCurrentPageContent = () => {\r\n        return lesson.content[\"page\" + currentStep]\r\n    }\r\n\r\n    const getQuestionContent = () => {\r\n        const currentQuestion = currentStep - pageCount\r\n        return lesson.questions[currentQuestion]\r\n    }\r\n\r\n    if (currentStep < pageCount) {\r\n        return (\r\n            <Fragment>\r\n                <LessonContent\r\n                    title={lesson.holiday_name}\r\n                    content={getCurrentPageContent()}\r\n                />\r\n                <ContentNavigation />\r\n            </Fragment>\r\n        )\r\n    }\r\n    else if (currentStep < stepsCount) {\r\n        return (\r\n            <QuestionProvider question={getQuestionContent()}>\r\n                <LessonQuestion />\r\n                <QuestionNavigation />\r\n            </QuestionProvider>\r\n        )\r\n    }\r\n    return null\r\n}\r\n\r\nexport default AdaptableContent","import React from 'react'\r\nimport { View, Modal, StyleSheet, Image } from 'react-native'\r\n\r\nimport { useLessonsInfo } from '../../../contexts/LessonsContext'\r\nimport Button from '../../../shared/Button/Button'\r\nimport globalStyles from '../../../styles/global'\r\nimport { useTheme, Text } from 'react-native-paper'\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport i18n from 'i18n-js'\r\nimport noImage from \"../../../assets/images/no_image.jpg\"\r\n\r\nconst FinishModal = () => {\r\n    const {\r\n        lessonData,\r\n        lessonFinished,\r\n        completeLesson,\r\n        rewardData\r\n    } = useLessonsInfo()\r\n\r\n    const { colors } = useTheme()\r\n    const navigation = useNavigation()\r\n\r\n    const handleContinuePress = async () => {\r\n        await completeLesson()\r\n        navigation.goBack()\r\n    }\r\n\r\n    const getRewardThumbnail = () => {\r\n        return rewardData.thumbnail ?\r\n            { uri: rewardData.thumbnail } : noImage\r\n    }\r\n\r\n    return (\r\n        <Modal animationType=\"fade\" visible={lessonFinished}>\r\n            <View style={{ backgroundColor: colors.surface, flex: 1 }}>\r\n                <View style={[\r\n                    globalStyles.container,\r\n                    styles.contentContainer,\r\n                    { backgroundColor: colors.surface, borderColor: colors.primary }\r\n                ]}>\r\n                    <View>\r\n                        <Text variant=\"headlineSmall\" style={styles.headline}>\r\n                             {i18n.t(\"lessons:Congratulations\")} \r\n                        </Text>\r\n                        <Text variant=\"titleMedium\" style={styles.subheading}>\r\n                            {i18n.t(\"lessons:On learning the holiday\") +\r\n                                \" \" + lessonData.holiday_name}\r\n                        </Text>\r\n                        <Text style={styles.rewardText}>\r\n                            {i18n.t(\"lessons:Reward\")}\r\n                        </Text>\r\n                        <View style={styles.rewardContainer}>\r\n                            <Text style={styles.rewardXP}>\r\n                                {lessonData.xp_reward || 0}\r\n                            </Text>\r\n                            <AntDesign name=\"star\" size={24} color={colors.xp} />\r\n                        </View>\r\n                        {rewardData ?\r\n                            <View style={styles.additionalReward}>\r\n                                <Image\r\n                                    source={getRewardThumbnail()}\r\n                                    style={styles.rewardImage}\r\n                                    resizeMode=\"contain\"\r\n                                />\r\n                                <Text style={styles.additionalRewardText}>\r\n                                    {rewardData.name}\r\n                                </Text>\r\n                            </View> : null\r\n                        }\r\n                        <Button\r\n                            onPress={handleContinuePress}\r\n                            mode=\"contained\"\r\n                        >\r\n                            {i18n.t(\"lessons:Continue\")}\r\n                        </Button>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default FinishModal\r\n\r\nconst styles = StyleSheet.create({\r\n    contentContainer: {\r\n        borderWidth: 4,\r\n        margin: 6,\r\n        borderStyle: \"dashed\",\r\n        borderRadius: 1\r\n    },\r\n    headline: {\r\n        textAlign: \"center\",\r\n        fontSize: 32\r\n    },\r\n    subheading: {\r\n        textAlign: \"center\",\r\n        marginVertical: 20,\r\n        lineHeight: 30,\r\n        fontSize: 22,\r\n        paddingHorizontal: 35\r\n    },\r\n    rewardText: {\r\n        fontSize: 28,\r\n        textAlign: \"center\",\r\n        marginTop: 30,\r\n    },\r\n    rewardContainer: {\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        marginVertical: 10\r\n    },\r\n    rewardXP: {\r\n        fontSize: 24,\r\n        paddingHorizontal: 4\r\n    },\r\n    additionalReward: {\r\n        marginBottom: 20,\r\n        alignItems: \"center\"\r\n    },\r\n    rewardImage: {\r\n        width: 120,\r\n        height: 120,\r\n    },\r\n    additionalRewardText: {\r\n        fontSize: 18\r\n    }\r\n})","import { StyleSheet, View } from 'react-native'\r\nimport React, { useCallback } from 'react'\r\n\r\nimport { useLessonsInfo } from '../../contexts/LessonsContext'\r\nimport { useFocusEffect } from '@react-navigation/native'\r\n\r\nimport { ActivityIndicator } from 'react-native-paper'\r\nimport ProgressIndicator from './components/ProgressIndicator'\r\nimport AdaptableContent from './components/AdaptableContent'\r\nimport FinishModal from './components/FinishModal'\r\n\r\nconst LessonScreen = () => {\r\n    const {\r\n        currentLessonRef,\r\n        loadLessonData,\r\n        unloadLessonData,\r\n        lessonData,\r\n        currentStep,\r\n        counter,\r\n    } = useLessonsInfo()\r\n\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            currentLessonRef && loadLessonData()\r\n            return unloadLessonData\r\n        }, [currentLessonRef])\r\n    )\r\n\r\n    return (\r\n        <View style={styles.flexContainer}>\r\n            {lessonData ? (\r\n                <View style={styles.flexContainer}>\r\n                    <ProgressIndicator\r\n                        steps={counter.stepsCount}\r\n                        currentStep={currentStep}\r\n                    />\r\n                    <AdaptableContent\r\n                        lesson={lessonData}\r\n                        counter={counter}\r\n                        currentStep={currentStep}\r\n                    />\r\n                    <FinishModal />\r\n                </View>\r\n            ) :\r\n                <ActivityIndicator\r\n                    size=\"large\"\r\n                    style={styles.indicator}\r\n                />}\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default LessonScreen\r\n\r\nconst styles = StyleSheet.create({\r\n    flexContainer: {\r\n        flex: 1\r\n    },\r\n    indicator: {\r\n        alignSelf: \"center\",\r\n        flex: 1\r\n    }\r\n})","import { storage, firestore } from \"../../firebase.v9\";\r\n\r\nexport const getProfilePictureURL = (userId) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n        .then(querySnapshot => {\r\n            return querySnapshot.data()?.avatar;\r\n        })\r\n}\r\n\r\nexport const storeProfilePicture = async (uri, userId) => {\r\n    const filename = uri.substring(uri.lastIndexOf('/') + 1)\r\n\r\n    const blob = await new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onload = function () {\r\n            resolve(xhr.response);\r\n        };\r\n        xhr.onerror = function (error) {\r\n            console.error(error);\r\n            reject(new TypeError('Network request failed'));\r\n        };\r\n        xhr.responseType = 'blob';\r\n        xhr.open('GET', uri, true);\r\n        xhr.send(null);\r\n    });\r\n\r\n    return storage\r\n        .ref(`images/users/${userId}/${filename}`)\r\n        .put(blob)\r\n        .then(snapshot => {\r\n            URL.revokeObjectURL(blob);\r\n            return snapshot.ref.getDownloadURL()\r\n        })\r\n}\r\n\r\nexport const getUsername = (userId) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n        .then(querySnapshot => {\r\n            return querySnapshot.data()?.username;\r\n        })\r\n}\r\n\r\nexport const updateUserInformation = (userId, { username, avatar }) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .update({ username, avatar })\r\n}","import { createContext, useState, useEffect, useContext } from \"react\"\r\nimport { auth } from \"../../firebase.v9\"\r\nimport {\r\n    getUsername,\r\n    getProfilePictureURL,\r\n    updateUserInformation,\r\n    storeProfilePicture\r\n} from \"../services/profile-services\"\r\n\r\nconst ProfileContext = createContext()\r\n\r\nexport function useProfileInfo() {\r\n    return useContext(ProfileContext)\r\n}\r\n\r\nexport function ProfileProvider({ children }) {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [avatar, setAvatar] = useState(null)\r\n\r\n    const handleGetUsername = () => {\r\n        getUsername(auth.currentUser.uid)\r\n            .then(uname => setUsername(uname))\r\n            .catch(error => console.error(error))\r\n    }\r\n\r\n    const handleGetAvatar = () => {\r\n        getProfilePictureURL(auth.currentUser.uid)\r\n            .then((url) => setAvatar(url))\r\n            .catch(error => console.error(error))\r\n    }\r\n\r\n    const updateProfile = async ({ newUsername, newAvatar }) => {\r\n        const profileData = {\r\n            username: newUsername ?? username,\r\n            avatar: newAvatar ?? avatar\r\n        }\r\n\r\n        try {\r\n            await updateUserInformation(auth.currentUser.uid, profileData)\r\n            setUsername(profileData.username)\r\n            setAvatar(profileData.avatar)\r\n            return true\r\n        }\r\n        catch (error) {\r\n            console.error(error)\r\n            return false\r\n        }\r\n    }\r\n\r\n    const saveAvatar = async (newAvatar) => {\r\n        try {\r\n            return await storeProfilePicture(newAvatar, auth.currentUser.uid)\r\n        } catch (error) {\r\n            console.error(error)\r\n            return null\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (auth.currentUser) {\r\n            handleGetUsername()\r\n            setEmail(auth.currentUser?.email)\r\n            handleGetAvatar()\r\n        }\r\n    }, [auth.currentUser])\r\n\r\n    const profileData = {\r\n        username,\r\n        email,\r\n        avatar,\r\n        updateProfile,\r\n        saveAvatar\r\n    }\r\n\r\n    return (\r\n        <ProfileContext.Provider value={profileData}>\r\n            {children}\r\n        </ProfileContext.Provider>\r\n    )\r\n}","import { StyleSheet, View } from 'react-native'\r\nimport React from 'react'\r\nimport { Surface, Text, IconButton } from 'react-native-paper'\r\nimport { useNavigation } from '@react-navigation/native'\r\n\r\nimport StyledAvatar from '../../../shared/StyledAvatar/StyledAvatar'\r\nimport { useProfileInfo } from '../../../contexts/ProfileContext'\r\nimport { useTheme } from 'react-native-paper'\r\n\r\nconst ProfileCard = () => {\r\n    const navigation = useNavigation()\r\n    const { username, email, avatar } = useProfileInfo();\r\n    const { colors } = useTheme()\r\n\r\n    const handleInfoEdit = () => {\r\n        navigation.navigate(\"Edit Profile\")\r\n    }\r\n\r\n    const themedStyles = {\r\n        borderColor: colors.onPrimary\r\n    }\r\n\r\n    return (\r\n        <Surface style={styles.surface} elevation={2}>\r\n            <StyledAvatar\r\n                style={[styles.avatar, themedStyles]}\r\n                size={70}\r\n                image={avatar}\r\n                username={username}\r\n                borderWidth={6}\r\n            />\r\n            <IconButton\r\n                icon=\"circle-edit-outline\"\r\n                size={20}\r\n                onPress={handleInfoEdit}\r\n                style={styles.edit}\r\n            />\r\n            <View style={styles.infoContainer}>\r\n                <Text style={styles.username}>{username}</Text>\r\n                <Text style={styles.email}>{email}</Text>\r\n            </View>\r\n\r\n        </Surface>\r\n    )\r\n}\r\n\r\nexport default ProfileCard\r\n\r\nconst styles = StyleSheet.create({\r\n    surface: {\r\n        flexDirection: \"row\",\r\n        paddingHorizontal: 20,\r\n        paddingVertical: 25,\r\n        borderRadius: 6\r\n    },\r\n    avatar: {\r\n        marginTop: -45,\r\n    },\r\n    infoContainer: {\r\n        flex: 1,\r\n        paddingHorizontal: 10,\r\n        justifyContent: \"center\",\r\n        marginRight: 20,\r\n    },\r\n    username: {\r\n        fontSize: 16,\r\n        fontWeight: \"bold\",\r\n    },\r\n    email: {\r\n        fontSize: 14,\r\n    },\r\n    edit: {\r\n        position: \"absolute\",\r\n        right: 5,\r\n    }\r\n})","import { StyleSheet } from 'react-native'\r\nimport { List, Switch, Divider, Surface } from 'react-native-paper';\r\nimport React from 'react'\r\nimport i18n from 'i18n-js';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport { useTheme } from '../../../contexts/ThemeContext';\r\nimport { auth } from '../../../../firebase.v9';\r\n\r\nconst ProfileList = ({ listOptions }) => {\r\n    const navigation = useNavigation()\r\n    const { toggleTheme, darkMode } = useTheme()\r\n    const { setLPickerOpen } = listOptions;\r\n\r\n    const handleSignOut = () => {\r\n        auth.signOut()\r\n            .then(() => {\r\n                navigation.replace(\"Login\")\r\n            })\r\n            .catch(error => alert(error.message))\r\n    }\r\n\r\n    const handleNavigateToRewards = () => {\r\n        navigation.navigate(\"My Collection\")\r\n    }\r\n\r\n    const handleOpenLanguageDialog = () => setLPickerOpen(true)\r\n\r\n    return (\r\n        <Surface elevation={1} style={styles.surface}>\r\n            <List.Section title={i18n.t(\"profile:General\")} titleStyle={styles.title}>\r\n                <Divider style={styles.divider} />\r\n\r\n                <List.Item\r\n                    style={styles.container}\r\n                    title={i18n.t(\"profile:Dark Mode\")}\r\n                    onPress={() => null}\r\n                    left={(props) => (\r\n                        <List.Icon {...props} icon={(props) => (\r\n                            <Ionicons name=\"moon-outline\" {...props} />\r\n                        )} />\r\n                    )}\r\n                    right={(props) => (\r\n                        <Switch\r\n                            {...props}\r\n                            onValueChange={toggleTheme}\r\n                            value={darkMode}\r\n                            style={styles.switch}\r\n                        />\r\n                    )}\r\n                />\r\n\r\n                <Divider style={styles.divider} />\r\n\r\n                <List.Item\r\n                    style={styles.container}\r\n                    title={i18n.t(\"profile:Language\")}\r\n                    onPress={handleOpenLanguageDialog}\r\n                    left={(props) => (\r\n                        <List.Icon {...props} icon={(props) => (\r\n                            <Ionicons name=\"language-outline\" {...props} />\r\n                        )} />\r\n                    )}\r\n                />\r\n\r\n                <Divider style={styles.divider} />\r\n\r\n                <List.Item\r\n                    style={styles.container}\r\n                    title={i18n.t(\"profile:My Rewards\")}\r\n                    left={(props) => (\r\n                        <List.Icon {...props} icon={(props) => (\r\n                            <Ionicons name=\"star-outline\" {...props} />\r\n                        )} />\r\n                    )}\r\n                    onPress={handleNavigateToRewards}\r\n                />\r\n\r\n                <Divider style={styles.divider} />\r\n\r\n                <List.Item\r\n                    style={styles.container}\r\n                    title={i18n.t(\"profile:Logout\")}\r\n                    left={(props) => (\r\n                        <List.Icon {...props} icon={(props) => (\r\n                            <Ionicons name=\"log-out-outline\" {...props} />\r\n                        )} />\r\n                    )}\r\n                    onPress={handleSignOut}\r\n                />\r\n            </List.Section>\r\n        </Surface>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default ProfileList\r\n\r\nconst styles = StyleSheet.create({\r\n    surface: {\r\n        marginTop: 60,\r\n        borderRadius: 16\r\n    },\r\n    listItem: {\r\n        padding: 0,\r\n    },\r\n    divider: {\r\n        height: 1\r\n    },\r\n    container: {\r\n        paddingHorizontal: 20\r\n    },\r\n    title: {\r\n        paddingLeft: 20\r\n    },\r\n    switch: {\r\n        height: 20,\r\n        alignSelf: \"center\"\r\n    }\r\n})","import { createContext, useState, useEffect, useContext, useRef } from \"react\"\r\nimport i18n from 'i18n-js';\r\nimport * as languages from \"../languages\"\r\nimport { locale as systemLocale } from 'expo-localization';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst LanguageContext = createContext()\r\n\r\nexport function useLanguage() {\r\n    return useContext(LanguageContext)\r\n}\r\n\r\nexport function LanguageProvider({ children }) {\r\n    const [currentLocale, setCurrentLocale] = useState(\"system\")\r\n    const [isTranslationLoaded, setIsTranslationLoaded] = useState(false);\r\n\r\n    const isFirstRun = useRef(true);\r\n\r\n    i18n.translations = languages\r\n    i18n.fallbacks = true\r\n\r\n    useEffect(() => {\r\n        if (isFirstRun.current) {\r\n            isFirstRun.current = false\r\n            getLocale()\r\n        }\r\n        else { saveCurrentLocale() }\r\n    }, [currentLocale])\r\n\r\n    const changeLocale = (newLocale) => {\r\n        if (newLocale === \"system\")\r\n            newLocale = systemLocale\r\n\r\n        i18n.locale = newLocale\r\n        setCurrentLocale(newLocale)\r\n    }\r\n\r\n    const getLocale = async () => {\r\n        try {\r\n            const locale = await AsyncStorage.getItem(\"locale\")\r\n            if (locale !== null) {\r\n                changeLocale(locale)\r\n            }\r\n            setIsTranslationLoaded(true);\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const saveCurrentLocale = async () => {\r\n        try {\r\n            await AsyncStorage.setItem(\"locale\", currentLocale)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const languageProviderData = { currentLocale, changeLocale, systemLocale }\r\n\r\n    if (!isTranslationLoaded) return null;\r\n\r\n    return (\r\n        <LanguageContext.Provider value={languageProviderData}>\r\n            {children}\r\n        </LanguageContext.Provider>\r\n    )\r\n}","import React from 'react'\r\nimport { Dialog, Portal, List } from \"react-native-paper\"\r\nimport i18n from 'i18n-js'\r\nimport { useLanguage } from '../../../contexts/LanguageContext'\r\nimport { Dimensions, Platform, StyleSheet } from 'react-native'\r\n\r\nconst LanguagePicker = ({ open, setOpen, onLanguageChange }) => {\r\n    const { systemLocale } = useLanguage()\r\n    const hideDialog = () => setOpen(false)\r\n    const handleOnPress = (locale) => () => {\r\n        onLanguageChange(locale)\r\n        hideDialog()\r\n    }\r\n\r\n    return (\r\n        <Portal>\r\n            <Dialog style={styles.dialog} visible={open} onDismiss={hideDialog}>\r\n                <Dialog.Title>{i18n.t(\"profile:Select language\")}</Dialog.Title>\r\n                <Dialog.Content>\r\n                    <List.Item\r\n                        titleStyle={styles.listItem}\r\n                        title={`  ${i18n.t(\"profile:System\")} (${systemLocale})`}\r\n                        onPress={handleOnPress(\"system\")}\r\n                    />\r\n                    <List.Item\r\n                        titleStyle={styles.listItem}\r\n                        title=\"  English (en-US)\"\r\n                        onPress={handleOnPress(\"en-US\")}\r\n                    />\r\n                    <List.Item\r\n                        titleStyle={styles.listItem}\r\n                        title=\"   (bg-BG)\"\r\n                        onPress={handleOnPress(\"bg\")}\r\n                    />\r\n                </Dialog.Content>\r\n            </Dialog>\r\n        </Portal>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    dialog: {\r\n        borderRadius: 20,\r\n        ...Platform.select({\r\n            web: {\r\n                width: Dimensions.get(\"window\").width < 640 ? \"100%\" : \"50%\",\r\n                alignSelf: \"center\",\r\n            }\r\n        })\r\n    },\r\n    listItem: {\r\n        fontSize: 18\r\n    }\r\n})\r\n\r\nexport default LanguagePicker","import { View } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\nimport React, { useState } from 'react'\r\n\r\nimport ProfileCard from './components/ProfileCard'\r\nimport ProfileList from './components/ProfileList'\r\nimport LanguagePicker from './components/LanguagePicker'\r\n\r\nimport { useLanguage } from '../../contexts/LanguageContext'\r\n\r\nconst ProfileScreen = () => {\r\n    const [lPickerOpen, setLPickerOpen] = useState(false)\r\n    const listOptions = { setLPickerOpen }\r\n    const { changeLocale } = useLanguage()\r\n    const handleLanguageChange = (newLocale) => changeLocale(newLocale)\r\n\r\n    return (\r\n        <View>\r\n            <LanguagePicker\r\n                open={lPickerOpen}\r\n                setOpen={setLPickerOpen}\r\n                onLanguageChange={handleLanguageChange}\r\n            />\r\n            <View style={styles.profileContainer} dataSet={{ media: ids.profileContainer }}>\r\n                <ProfileCard />\r\n                <ProfileList listOptions={listOptions} />\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default ProfileScreen\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    profileContainer: {\r\n        padding: 25,\r\n        marginTop: 20,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            width: \"60%\",\r\n            alignSelf: \"center\",\r\n        }\r\n    }\r\n})","import { StyleSheet, View, Platform } from 'react-native'\r\nimport React, { useEffect } from 'react'\r\nimport BottomSheet from 'reanimated-bottom-sheet';\r\nimport { useTheme, Text, TouchableRipple, Divider, Surface } from 'react-native-paper';\r\nimport { MaterialIcons } from \"@expo/vector-icons\"\r\nimport i18n from 'i18n-js';\r\nimport * as ExpoImagePicker from \"expo-image-picker\"\r\n\r\nconst ImagePicker = ({ isOpen, setOpen, setImage }) => {\r\n    const { colors } = useTheme()\r\n    const sheetRef = React.useRef(null);\r\n\r\n    const runAfterSelectAction = (result) => {\r\n        if (!result.canceled) {\r\n            const [image] = result.assets\r\n            setImage(image.uri)\r\n        }\r\n        if (Platform.OS !== \"web\")\r\n            sheetRef.current.snapTo(2)\r\n    }\r\n\r\n    const handlePickFromCamera = async () => {\r\n        const result = await ExpoImagePicker.launchCameraAsync({\r\n            allowsEditing: true,\r\n            aspect: [1, 1],\r\n            quality: 1,\r\n        });\r\n        runAfterSelectAction(result)\r\n    }\r\n\r\n    const handlePickFromGallery = async () => {\r\n        const result = await ExpoImagePicker.launchImageLibraryAsync({\r\n            mediaTypes: ExpoImagePicker.MediaTypeOptions.Images,\r\n            allowsEditing: true,\r\n            aspect: [1, 1],\r\n            quality: 1,\r\n        });\r\n        runAfterSelectAction(result)\r\n    }\r\n\r\n    const renderContent = () => (\r\n        <View style={[\r\n            styles.content,\r\n            { backgroundColor: colors.inverseOnSurface }\r\n        ]}>\r\n            <View style={[\r\n                styles.bar,\r\n                { backgroundColor: colors.onSurface }\r\n            ]} />\r\n            <View>\r\n                <Text style={styles.title}>\r\n                    {i18n.t(\"change-profile:Choose from\")}\r\n                </Text>\r\n                <View style={styles.optionsContainer}>\r\n                    <TouchableRipple onPress={handlePickFromCamera} style={styles.rippleContainer}>\r\n                        <View style={styles.option}>\r\n                            <MaterialIcons\r\n                                name=\"camera-alt\"\r\n                                size={26}\r\n                                color={colors.onSurface}\r\n                            />\r\n                            <Text style={styles.optionText}>{i18n.t(\"change-profile:Camera\")}</Text>\r\n                        </View>\r\n                    </TouchableRipple>\r\n                    <Divider style={styles.divider} />\r\n                    <TouchableRipple onPress={handlePickFromGallery} style={styles.rippleContainer}>\r\n                        <View style={styles.option}>\r\n                            <MaterialIcons\r\n                                name=\"photo\"\r\n                                size={26}\r\n                                color={colors.onSurface}\r\n                            />\r\n                            <Text style={styles.optionText}>{i18n.t(\"change-profile:Gallery\")}</Text>\r\n                        </View>\r\n                    </TouchableRipple>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (isOpen && Platform.OS === \"web\") {\r\n            handlePickFromGallery()\r\n            handleImagePickerClose()\r\n        }\r\n        else if (isOpen)\r\n            sheetRef.current.snapTo(0)\r\n    }, [isOpen])\r\n\r\n    const handleImagePickerClose = () => setOpen(false)\r\n\r\n    if (Platform.OS === \"web\") return null\r\n    return (\r\n        <BottomSheet\r\n            ref={sheetRef}\r\n            snapPoints={[220, 0, 0]}\r\n            initialSnap={2}\r\n            borderRadius={30}\r\n            renderContent={renderContent}\r\n            onCloseEnd={handleImagePickerClose}\r\n        />\r\n    );\r\n}\r\n\r\nexport default ImagePicker\r\n\r\nconst styles = StyleSheet.create({\r\n    content: {\r\n        padding: 10,\r\n        height: 220,\r\n    },\r\n    bar: {\r\n        height: 6,\r\n        width: \"20%\",\r\n        marginHorizontal: \"40%\",\r\n        borderRadius: 4\r\n    },\r\n    title: {\r\n        fontSize: 18,\r\n        textAlign: \"center\",\r\n        marginTop: 15\r\n    },\r\n    optionsContainer: {\r\n        marginHorizontal: 25,\r\n        marginTop: 20\r\n    },\r\n    option: {\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\"\r\n    },\r\n    optionText: {\r\n        fontSize: 18,\r\n        marginLeft: 10\r\n    },\r\n    rippleContainer: {\r\n        paddingHorizontal: 10,\r\n        paddingVertical: 8,\r\n        borderRadius: 10\r\n    },\r\n    divider: {\r\n        marginVertical: 5,\r\n    }\r\n})","import { Animated, Platform } from 'react-native'\r\nimport React, { useRef, useEffect } from 'react'\r\n\r\nconst FadingView = ({\r\n    children,\r\n    style,\r\n    fadeInDuration,\r\n    pauseDuration,\r\n    fadeoutDuration,\r\n    visible = false,\r\n    onAnimationEnd\r\n}) => {\r\n    const fadeAnim = useRef(new Animated.Value(0)).current\r\n    const isMobile = Platform.OS === 'ios' || Platform.OS === 'android'\r\n\r\n    useEffect(() => {\r\n        if (visible) {\r\n            Animated.sequence([\r\n                Animated.timing(\r\n                    fadeAnim,\r\n                    {\r\n                        toValue: 1,\r\n                        duration: fadeInDuration,\r\n                        useNativeDriver: isMobile\r\n                    }\r\n                ),\r\n                Animated.delay(pauseDuration),\r\n                Animated.timing(\r\n                    fadeAnim,\r\n                    {\r\n                        toValue: 0,\r\n                        duration: fadeoutDuration,\r\n                        useNativeDriver: isMobile\r\n                    }\r\n                )\r\n            ]).start((({ finished }) => {\r\n                finished && onAnimationEnd()\r\n            }))\r\n        }\r\n    }, [visible])\r\n\r\n    return (\r\n        <Animated.View\r\n            style={{\r\n                ...style,\r\n                opacity: fadeAnim,\r\n            }}\r\n        >\r\n            {children}\r\n        </Animated.View>\r\n    );\r\n}\r\n\r\nexport default FadingView;","import { StyleSheet, View, Animated } from 'react-native'\r\nimport React from 'react'\r\nimport { useTheme, Text } from 'react-native-paper'\r\n\r\nimport FadingView from '../Transitions/FadingView'\r\n\r\nconst PillNotification = ({\r\n    text = \"\",\r\n    fadeInDuration = 500,\r\n    fadeOutDuration = 3000,\r\n    pauseDuration = 2000,\r\n    visible = false,\r\n    onAnimationEnd\r\n}) => {\r\n    const { colors } = useTheme()\r\n\r\n    return (\r\n        <FadingView\r\n            style={styles.container}\r\n            fadeInDuration={fadeInDuration}\r\n            fadeOutDuration={fadeOutDuration}\r\n            pauseDuration={pauseDuration}\r\n            visible={visible}\r\n            onAnimationEnd={onAnimationEnd}\r\n        >\r\n            <View style={[styles.pill, {\r\n                backgroundColor: colors.inverseOnSurface,\r\n                borderColor: colors.primary\r\n            }]}>\r\n                <Text style={[styles.text, { color: colors.primary }]}>\r\n                    {text}\r\n                </Text>\r\n            </View>\r\n        </FadingView>\r\n    )\r\n}\r\n\r\nexport default PillNotification\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n    pill: {\r\n        borderRadius: 40,\r\n        paddingHorizontal: 25,\r\n        paddingVertical: 8,\r\n        marginVertical: 10,\r\n        borderWidth: 1\r\n    }\r\n})","import { View, KeyboardAvoidingView, Keyboard, TouchableWithoutFeedback } from 'react-native'\r\nimport React, { useState, useEffect } from 'react'\r\nimport StyleSheet from \"react-native-media-query\"\r\n\r\nimport StyledAvatar from '../../shared/StyledAvatar/StyledAvatar'\r\nimport StyledTextInput from '../../shared/TextInput/StyledTextInput'\r\nimport Button from '../../shared/Button/Button'\r\nimport { useTheme, Text } from 'react-native-paper'\r\nimport { useProfileInfo } from '../../contexts/ProfileContext'\r\nimport ImagePicker from './components/ImagePicker'\r\nimport PillNotification from '../../shared/Notifications/PillNotification'\r\n\r\nimport { checkDuplicateUsername } from '../../services/authenticate'\r\n\r\nimport i18n from 'i18n-js'\r\n\r\nconst ProfileEditScreen = () => {\r\n    const [newUsername, setNewUsername] = useState(\"\")\r\n    const [newAvatar, setNewAvatar] = useState(null)\r\n\r\n    const [usernameError, setUsernameError] = useState(null)\r\n    const [pickImageOpen, setPickImageOpen] = useState(false)\r\n    const [notificationVisible, setNotificationVisible] = useState(false)\r\n\r\n    const { colors } = useTheme()\r\n    const { username, email, avatar, updateProfile, saveAvatar } = useProfileInfo()\r\n\r\n    useEffect(() => {\r\n        setNewUsername(username)\r\n    }, [username])\r\n\r\n    const handleUsernameChanged = (uname) => { setNewUsername(uname) }\r\n\r\n    const verifyUsernameNotDuplicate = async (newUsername) => {\r\n        try {\r\n            const isDuplicate = await checkDuplicateUsername(newUsername)\r\n            const duplicateErrorMessage = i18n.t(\"auth:username-exists\")\r\n            setUsernameError(isDuplicate ? duplicateErrorMessage : null)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const handleUsernameValidation = () => {\r\n        if (newUsername.length < 4) {\r\n            setUsernameError(i18n.t(\"change-profile:username-min\").replace(\"{0}\", 4))\r\n        }\r\n        else if (newUsername.length > 512) {\r\n            setUsernameError(i18n.t(\"change-profile:username-max\").replace(\"{0}\", 512))\r\n        } else {\r\n            if (username === newUsername) {\r\n                setUsernameError(null)\r\n                return\r\n            }\r\n            verifyUsernameNotDuplicate(newUsername)\r\n        }\r\n    }\r\n\r\n    const handleSaveChanges = async () => {\r\n        let newAvatarUploadedURL = null;\r\n\r\n        if (newAvatar) {\r\n            newAvatarUploadedURL = await saveAvatar(newAvatar)\r\n        }\r\n\r\n        const updated = await updateProfile({ newUsername, newAvatar: newAvatarUploadedURL })\r\n        updated && setNotificationVisible(true)\r\n    }\r\n\r\n    const handleOpenImagePicker = () => setPickImageOpen(true)\r\n\r\n    return (\r\n        <TouchableWithoutFeedback\r\n            onPress={Keyboard.dismiss}\r\n        >\r\n            <>\r\n                <KeyboardAvoidingView\r\n                    style={styles.container}\r\n                    behavior='height'\r\n                    dataSet={{ media: ids.container }}\r\n                >\r\n                    <View style={styles.profilePictureContainer}>\r\n                        <StyledAvatar\r\n                            username={username}\r\n                            image={newAvatar || avatar}\r\n                            size={80}\r\n                            borderWidth={6}\r\n                            style={[styles.avatar, { borderColor: colors.onPrimary }]}\r\n                        />\r\n                        <Button\r\n                            mode=\"contained\"\r\n                            size={3}\r\n                            onPress={handleOpenImagePicker}\r\n                        >{i18n.t(\"change-profile:Change picture\")}</Button>\r\n                    </View>\r\n                    <View style={styles.inputContainer}>\r\n                        <Text style={styles.label}>\r\n                            {i18n.t(\"change-profile:Username\")}\r\n                        </Text>\r\n                        <StyledTextInput\r\n                            style={{ borderColor: colors.primary }}\r\n                            value={newUsername}\r\n                            onChangeText={handleUsernameChanged}\r\n                            onBlur={handleUsernameValidation}\r\n                            error={Boolean(usernameError)}\r\n                            helperText={usernameError}\r\n                        />\r\n\r\n                        <Text style={styles.label}>\r\n                            {i18n.t(\"change-profile:Email\")}\r\n                        </Text>\r\n                        <StyledTextInput\r\n                            disabled\r\n                            style={{ borderColor: colors.primary }}\r\n                            value={email}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.saveContainer}>\r\n                        <View>\r\n                            <PillNotification\r\n                                text={i18n.t(\"change-profile:Saved\")}\r\n                                visible={notificationVisible}\r\n                                onAnimationEnd={() => setNotificationVisible(false)}\r\n                            />\r\n                        </View>\r\n                        <Button\r\n                            mode=\"contained\"\r\n                            disabled={Boolean(usernameError)}\r\n                            onPress={handleSaveChanges}\r\n                        >\r\n                            {i18n.t(\"change-profile:Save\")}\r\n                        </Button>\r\n                    </View>\r\n                </KeyboardAvoidingView>\r\n                <ImagePicker\r\n                    isOpen={pickImageOpen}\r\n                    setOpen={setPickImageOpen}\r\n                    setImage={setNewAvatar}\r\n                />\r\n            </>\r\n        </TouchableWithoutFeedback>\r\n    )\r\n}\r\n\r\nexport default ProfileEditScreen\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    container: {\r\n        padding: 20,\r\n        flex: 1,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            width: \"60%\",\r\n            alignSelf: \"center\",\r\n        }\r\n    },\r\n    profilePictureContainer: {\r\n        flexDirection: \"row\",\r\n        marginHorizontal: 20,\r\n        marginTop: 20\r\n    },\r\n    avatar: {\r\n        marginRight: 5\r\n    },\r\n    inputContainer: {\r\n        marginTop: 30,\r\n        marginHorizontal: 10,\r\n    },\r\n    label: {\r\n        paddingLeft: 5,\r\n        fontSize: 16,\r\n        marginTop: 15\r\n    },\r\n    saveContainer: {\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n        marginTop: 100,\r\n    },\r\n})","import React from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\nimport { Text } from 'react-native-paper'\r\nimport i18n from 'i18n-js'\r\n\r\nconst CollectionTitle = () => {\r\n    return (\r\n        <View>\r\n            <Text style={styles.title}>\r\n                {i18n.t(\"My Collection\")}\r\n            </Text>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default CollectionTitle\r\n\r\nconst styles = StyleSheet.create({\r\n    title: {\r\n        fontSize: 28,\r\n        fontWeight: \"bold\",\r\n        marginBottom: 20\r\n    }\r\n})","import { Dimensions, Image, Platform } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\n\r\nimport { Card, Text } from 'react-native-paper'\r\nimport React from 'react'\r\n\r\nimport noImage from \"../../../assets/images/no_image.jpg\"\r\n\r\nconst CollectionCard = ({ collected = false, name, thumbnail }) => {\r\n    if (collected) {\r\n        return (\r\n            <Card\r\n                style={styles.card}\r\n                dataSet={{ media: ids.card }}\r\n                contentStyle={styles.contentContainer}\r\n                elevation={2}\r\n            >\r\n                <Image\r\n                    style={styles.image}\r\n                    borderTopLeftRadius={18}\r\n                    borderTopRightRadius={18}\r\n                    resizeMode=\"cover\"\r\n                    source={thumbnail ? { uri: thumbnail } : noImage}\r\n                />\r\n                <Card.Content style={styles.cardContent}>\r\n                    <Text variant=\"titleSmall\" style={styles.rewardName}>\r\n                        {name}\r\n                    </Text>\r\n                </Card.Content>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Card style={[styles.card, styles.cardUnknown]} dataSet={{ media: ids.card }}>\r\n            <Card.Content style={styles.cardUnknownContent}>\r\n                <Text variant=\"headlineMedium\">?</Text>\r\n            </Card.Content>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default CollectionCard\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    image: {\r\n        flex: 3,\r\n        minHeight: 100,\r\n        borderTopLeftRadius: 18,\r\n        borderTopRightRadius: 18,\r\n    },\r\n    card: {\r\n        flex: 1,\r\n        marginVertical: 10,\r\n        ...Platform.select({\r\n            ios: {\r\n                width: Dimensions.get(\"window\").width / 2 - 55,\r\n                minHeight: Dimensions.get(\"window\").width / 2 - 55\r\n            },\r\n            android: {\r\n                width: Dimensions.get(\"window\").width / 2 - 55,\r\n                minHeight: Dimensions.get(\"window\").width / 2 - 55\r\n            },\r\n            web: {\r\n                width: \"12vw\",\r\n                minHeight: \"12vw\"\r\n            }\r\n        }),\r\n        \"@media only screen and (max-width: 640px)\": {\r\n            width: \"calc(50vw - 55px)\",\r\n            minHeight: \"calc(50vw - 55px)\"\r\n        }\r\n    },\r\n    cardUnknown: {\r\n        flex: 1,\r\n        justifyContent: \"space-around\"\r\n    },\r\n    cardContent: {\r\n        flex: 1,\r\n        paddingVertical: 10,\r\n        paddingHorizontal: 16,\r\n        justifyContent: \"center\"\r\n    },\r\n    rewardName: {\r\n        textAlign: \"center\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    cardUnknownContent: {\r\n        aspectRatio: 1 / 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    contentContainer: {\r\n        flex: 1,\r\n    }\r\n})","import React from 'react'\r\nimport { animated, useSpring } from '@react-spring/native'\r\n\r\nconst BounceView = ({ delay = 0, children }) => {\r\n    const springConfig = useSpring({\r\n        scale: 1,\r\n        delay: delay,\r\n        from: { scale: 0 },\r\n        to: { scale: 1 },\r\n        config: {\r\n            mass: 1,\r\n            tension: 200,\r\n            friction: 15\r\n        }\r\n    })\r\n\r\n    const springStyle = { transform: [{ scale: springConfig.scale }] }\r\n\r\n    return (\r\n        <animated.View style={springStyle}>\r\n            {children}\r\n        </animated.View>\r\n    )\r\n}\r\n\r\nexport default BounceView","import { Dimensions, FlatList, Platform } from 'react-native'\r\nimport StyleSheet from \"react-native-media-query\"\r\n\r\nimport React, { useState, useCallback } from 'react'\r\nimport CollectionTitle from './components/CollectionTitle'\r\nimport CollectionCard from './components/CollectionCard'\r\nimport BounceView from '../../shared/Transitions/BounceView'\r\nimport { useFocusEffect } from '@react-navigation/native'\r\nimport { findRewards, findUserRewards } from '../../services/rewards-services'\r\nimport { auth } from '../../../firebase.v9'\r\n\r\nconst MyCollectionScreen = () => {\r\n    const [rewards, setRewards] = useState([])\r\n\r\n    const remapRewards = (allRewards, userRewards) => {\r\n        return allRewards.map(reward => ({\r\n            ...reward,\r\n            collected: userRewards.includes(reward.id)\r\n        }))\r\n    }\r\n\r\n    const getRewards = async () => {\r\n        try {\r\n            const userRewards = await findUserRewards(auth.currentUser.uid)\r\n            const allRewards = await findRewards()\r\n            const remappedRewards = remapRewards(allRewards, userRewards)\r\n\r\n            setRewards(remappedRewards)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            getRewards()\r\n            return () => { setRewards(null) }\r\n        }, [])\r\n    )\r\n\r\n    return (\r\n        <FlatList\r\n            data={rewards}\r\n            keyExtractor={(reward) => reward.id}\r\n            renderItem={({ item: props, index }) => (\r\n                <BounceView delay={index * 100}>\r\n                    <CollectionCard {...props} />\r\n                </BounceView>\r\n            )}\r\n            ListHeaderComponent={() => (\r\n                <CollectionTitle />\r\n            )}\r\n            contentContainerStyle={styles.collectionContainer}\r\n            columnWrapperStyle={{ justifyContent: \"space-evenly\" }}\r\n            showsVerticalScrollIndicator={false}\r\n            showsHorizontalScrollIndicator={false}\r\n            style={styles.collection}\r\n            dataSet={{ media: ids.collection }}\r\n            numColumns={\r\n                Platform.OS === \"web\" && Dimensions.get(\"window\").width > 640 ? 6 : 2\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default MyCollectionScreen\r\n\r\nconst { styles, ids } = StyleSheet.create({\r\n    collection: {\r\n        flex: 1,\r\n        \"@media only screen and (min-width: 640px)\": {\r\n            paddingHorizontal: 80,\r\n        }\r\n    },\r\n    collectionContainer: {\r\n        padding: 20,\r\n    }\r\n})","import { firestore } from \"../../firebase.v9\";\r\n\r\nexport const findRewards = () => {\r\n    return firestore\r\n        .collection(\"rewards\")\r\n        .get()\r\n        .then(querySnapshot => {\r\n            return querySnapshot.docs.map(doc => (\r\n                { ...doc.data(), id: doc.id })\r\n            )\r\n        })\r\n}\r\n\r\nexport const findUserRewards = (userId) => {\r\n    return firestore\r\n        .collection(\"users\")\r\n        .doc(userId)\r\n        .get()\r\n        .then(doc => {\r\n            if (!doc.exists) { return null }\r\n            const { collected_rewards } = doc.data()\r\n            return collected_rewards\r\n        })\r\n}","import React from 'react';\r\nimport { Appbar } from 'react-native-paper';\r\nimport i18n from 'i18n-js';\r\n\r\nconst AppbarMain = ({ route }) => {\r\n    return (\r\n        <Appbar.Header elevated mode=\"center-aligned\">\r\n            <Appbar.Content\r\n                title={i18n.t(route.name)}\r\n            />\r\n        </Appbar.Header>\r\n    );\r\n};\r\n\r\nexport default AppbarMain","import { createStackNavigator } from '@react-navigation/stack';\r\nimport { HomeScreen } from \"../screens\"\r\nimport AppbarMain from '../shared/AppBar/AppbarMain';\r\n\r\nconst { Navigator, Screen } = createStackNavigator()\r\n\r\nexport default function HomeStack() {\r\n    return (\r\n        <Navigator\r\n            initialRouteName=\"Home\"\r\n            screenOptions={{\r\n                headerMode: \"screen\",\r\n                header: ({ route }) => {\r\n                    return <AppbarMain route={route} />\r\n                },\r\n            }}\r\n        >\r\n            <Screen\r\n                name=\"Home\"\r\n                component={HomeScreen}\r\n            />\r\n        </Navigator>\r\n    )\r\n}","import React from 'react';\r\nimport { Appbar } from 'react-native-paper';\r\nimport i18n from 'i18n-js';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst AppbarStack = ({ route }) => {\r\n    const navigation = useNavigation();\r\n    return (\r\n        <Appbar.Header elevated>\r\n            <Appbar.BackAction onPress={navigation.goBack} />\r\n            <Appbar.Content\r\n                title={i18n.t(route.params?.appBarTitle || route.name)}\r\n            />\r\n        </Appbar.Header>\r\n    );\r\n};\r\n\r\nexport default AppbarStack","import { createStackNavigator } from '@react-navigation/stack';\r\nimport { SeasonsScreen, LessonsTimeline, LessonScreen } from \"../screens\"\r\nimport AppbarMain from '../shared/AppBar/AppbarMain';\r\nimport AppbarStack from '../shared/AppBar/AppbarStack';\r\n\r\nconst { Navigator, Screen } = createStackNavigator()\r\nimport { LessonsProvider } from '../contexts/LessonsContext';\r\n\r\nexport default function LessonsStack() {\r\n    return (\r\n        <LessonsProvider>\r\n            <Navigator\r\n                initialRouteName=\"Lessons\"\r\n                screenOptions={{\r\n                    headerMode: \"screen\",\r\n                    header: ({ route }) => {\r\n                        return <AppbarStack route={route} />\r\n                    },\r\n                }}\r\n            >\r\n                <Screen\r\n                    name=\"Lessons\"\r\n                    component={SeasonsScreen}\r\n                    options={{\r\n                        headerMode: \"screen\",\r\n                        header: ({ route }) => {\r\n                            return <AppbarMain route={route} />\r\n                        },\r\n                    }}\r\n                />\r\n                <Screen\r\n                    name=\"Season Timeline\"\r\n                    component={LessonsTimeline}\r\n                />\r\n                <Screen\r\n                    name=\"Lesson Screen\"\r\n                    component={LessonScreen}\r\n                    options={{\r\n                        header: () => null\r\n                    }}\r\n                />\r\n            </Navigator>\r\n        </LessonsProvider>\r\n    )\r\n}","import { createStackNavigator } from '@react-navigation/stack';\r\nimport { LeaderboardScreen } from \"../screens\"\r\nimport AppbarMain from '../shared/AppBar/AppbarMain';\r\n\r\nconst { Navigator, Screen } = createStackNavigator()\r\n\r\nexport default function LeaderboardStack() {\r\n    return (\r\n        <Navigator\r\n            initialRouteName=\"Leaderboard\"\r\n            screenOptions={{\r\n                headerMode: \"screen\",\r\n                header: ({ route }) => {\r\n                    return <AppbarMain route={route} />\r\n                },\r\n            }}\r\n        >\r\n            <Screen\r\n                name=\"Leaderboard\"\r\n                component={LeaderboardScreen}\r\n            />\r\n        </Navigator>\r\n    )\r\n}","import { createStackNavigator } from '@react-navigation/stack';\r\nimport { ProfileScreen, ProfileEditScreen, MyCollectionScreen } from \"../screens\"\r\nimport AppbarStack from '../shared/AppBar/AppbarStack';\r\nimport AppbarMain from '../shared/AppBar/AppbarMain';\r\nimport { ProfileProvider } from \"../contexts/ProfileContext\"\r\n\r\nconst { Navigator, Screen } = createStackNavigator()\r\n\r\nexport default function ProfileStack() {\r\n    return (\r\n        <ProfileProvider>\r\n            <Navigator\r\n                initialRouteName=\"Profile\"\r\n                screenOptions={{\r\n                    headerMode: \"screen\",\r\n                    header: ({ route }) => {\r\n                        return <AppbarStack route={route} />\r\n                    },\r\n                }}\r\n            >\r\n                <Screen\r\n                    name=\"Profile\"\r\n                    component={ProfileScreen}\r\n                    options={{\r\n                        headerMode: \"screen\",\r\n                        header: ({ route }) => {\r\n                            return <AppbarMain route={route} />\r\n                        },\r\n                    }}\r\n                />\r\n\r\n                <Screen\r\n                    name=\"My Collection\"\r\n                    component={MyCollectionScreen}\r\n                />\r\n\r\n                <Screen\r\n                    name=\"Edit Profile\"\r\n                    component={ProfileEditScreen}\r\n                />\r\n\r\n            </Navigator>\r\n        </ProfileProvider>\r\n\r\n    )\r\n}","import { createMaterialBottomTabNavigator } from \"@react-navigation/material-bottom-tabs\"\r\nimport { HomeStack, LessonsStack, LeaderboardStack, ProfileStack } from \"../routes\"\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst { Navigator, Screen } = createMaterialBottomTabNavigator()\r\nimport i18n from 'i18n-js';\r\n\r\nexport default function BottomNavigation() {\r\n    const btnIconSize = 24;\r\n\r\n    const generateIcon = (size, icon, iconOutline) => ({ focused, color }) => (\r\n        <Ionicons\r\n            name={focused ? icon : iconOutline}\r\n            size={size}\r\n            color={color}\r\n        />\r\n    )\r\n\r\n    return (\r\n        <Navigator\r\n            initialRouteName=\"HomeStack\"\r\n            shifting={true}\r\n            sceneAnimationEnabled={false}\r\n            backBehavior=\"firstRoute\"\r\n            compact\r\n\r\n        >\r\n            <Screen\r\n                name=\"HomeStack\"\r\n                component={HomeStack}\r\n                options={{\r\n                    tabBarIcon: generateIcon(btnIconSize, \"home\", \"home-outline\"),\r\n                    title: i18n.t(\"Home\")\r\n                }}\r\n            />\r\n\r\n            <Screen\r\n                name=\"LessonsStack\"\r\n                component={LessonsStack}\r\n                options={{\r\n                    tabBarIcon: generateIcon(btnIconSize, \"book\", \"book-outline\"),\r\n                    title: i18n.t(\"Lessons\")\r\n                }}\r\n            />\r\n\r\n            <Screen\r\n                name=\"LeaderboardStack\"\r\n                component={LeaderboardStack}\r\n                options={{\r\n                    tabBarIcon: generateIcon(btnIconSize, \"trophy\", \"trophy-outline\"),\r\n                    title: i18n.t(\"Leaderboard\")\r\n                }}\r\n            />\r\n\r\n            <Screen\r\n                name=\"ProfileStack\"\r\n                component={ProfileStack}\r\n                options={{\r\n                    tabBarIcon: generateIcon(btnIconSize, \"person\", \"person-outline\"),\r\n                    title: i18n.t(\"Profile\")\r\n                }}\r\n            />\r\n\r\n        </Navigator>\r\n    )\r\n}","import React from 'react';\r\nimport { Appbar } from 'react-native-paper';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport i18n from 'i18n-js';\r\n\r\nconst AppbarSignUp = () => {\r\n    const navigation = useNavigation();\r\n\r\n    const handleBackPressed = () => {\r\n        navigation.goBack();\r\n    }\r\n\r\n    return (\r\n        <Appbar.Header elevated>\r\n            <Appbar.BackAction onPress={handleBackPressed} />\r\n            <Appbar.Content\r\n                title={i18n.t(\"auth:Login\")}\r\n            />\r\n        </Appbar.Header>\r\n    );\r\n};\r\n\r\nexport default AppbarSignUp","import { createStackNavigator } from '@react-navigation/stack';\r\nimport { LoginScreen, SignUpScreen } from \"../screens\"\r\nimport BottomNavigation from './BottomNavigation';\r\nimport AppbarSignUp from '../screens/Signup/AppbarSignUp';\r\n\r\nconst { Navigator, Screen } = createStackNavigator()\r\n\r\nexport default function LoginStack() {\r\n    return (\r\n        <Navigator\r\n            initialRouteName=\"Login\"\r\n        >\r\n            <Screen\r\n                name=\"SignUp\"\r\n                component={SignUpScreen}\r\n                options={{\r\n                    headerMode: \"screen\",\r\n                    header: () => {\r\n                        return <AppbarSignUp />\r\n                    }\r\n                }}\r\n            />\r\n            <Screen\r\n                name=\"Login\"\r\n                component={LoginScreen}\r\n                options={{\r\n                    header: () => null\r\n                }}\r\n            />\r\n            <Screen\r\n                name=\"BottomNavigation\"\r\n                component={BottomNavigation}\r\n                options={{\r\n                    header: () => null\r\n                }}\r\n            />\r\n        </Navigator>\r\n    )\r\n}","import { Provider as PaperProvider } from 'react-native-paper';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { useTheme } from '../../contexts/ThemeContext';\r\nimport { StatusBar } from 'expo-status-bar';\r\n\r\nexport default function ThemeWrapper({ children }) {\r\n    const { currentTheme, darkMode } = useTheme()\r\n\r\n    return (\r\n        <PaperProvider theme={currentTheme}>\r\n            <NavigationContainer theme={currentTheme}>\r\n                <StatusBar style={darkMode ? \"light\" : \"dark\"} />\r\n                {children}\r\n            </NavigationContainer>\r\n        </PaperProvider >\r\n    )\r\n}","import LoginStack from './src/routes/LoginStack';\r\nimport ThemeWrapper from './src/shared/ThemeWrapper/ThemeWrapper';\r\nimport { ThemeProvider } from './src/contexts/ThemeContext';\r\nimport { LanguageProvider } from './src/contexts/LanguageContext'\r\nimport { registerRootComponent } from 'expo';\r\nimport { useFonts } from 'expo-font';\r\nimport addExtensions from './extensions';\r\nimport * as SplashScreen from 'expo-splash-screen';\r\n\r\nimport { useCallback } from 'react';\r\nimport { View } from 'react-native';\r\n\r\n// Adding custom language feature extensions\r\naddExtensions();\r\nSplashScreen.preventAutoHideAsync();\r\n\r\nexport default function App() {\r\n  const [fontsLoaded] = useFonts({\r\n    \"PacificoRegular\": require(\"./src/assets/fonts/PacificoRegular.ttf\")\r\n  })\r\n\r\n  const onLayoutRootView = useCallback(async () => {\r\n    if (fontsLoaded) {\r\n      await SplashScreen.hideAsync();\r\n    }\r\n  }, [fontsLoaded]);\r\n\r\n  if (!fontsLoaded) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1 }} onLayout={onLayoutRootView}>\r\n      <ThemeProvider>\r\n        <ThemeWrapper>\r\n          <LanguageProvider>\r\n            <LoginStack />\r\n          </LanguageProvider>\r\n        </ThemeWrapper>\r\n      </ThemeProvider >\r\n    </View >\r\n  );\r\n}\r\n\r\nregisterRootComponent(App)","export default function () {\r\n    String.prototype.capitalize = function () {\r\n        return this.charAt(0).toUpperCase() + this.substring(1)\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/festify/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [760], () => (__webpack_require__(41393)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["thumbnailSize","lessonTitle","lessonThumbnail","onContinuePress","themedCircleStyles","borderColor","useTheme","colors","surface","Surface","style","styles","elevation","thumbnail","size","source","Text","variant","headline","subheading","i18n","mode","buttonContainer","contentStyle","button","onPress","StyleSheet","marginVertical","borderRadius","justifyContent","alignItems","paddingHorizontal","borderWidth","marginTop","marginBottom","textAlign","fontSize","lineHeight","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","storage","getNowNoTime","now","Date","getFullYear","getMonth","getDate","findCurrentLesson","userId","userDocument","doc","get","exists","current_lesson","data","seasonTimelineDoc","season","holidays","index","claimReward","gainedXP","xp","update","last_reward_claim","valueOf","onRewardClaim","rewardAmount","scaleValue","useRef","Animated","current","useEffect","toValue","useNativeDriver","start","TouchableRipple","borderless","centered","ripple","duration","delay","transform","scale","reward","color","AntDesign","name","text","paddingVertical","fontWeight","container","padding","flex","width","alignSelf","activityIndicator","ids","useState","currentLesson","setCurrentLesson","dailyReward","setDailyReward","setRewardAmount","navigation","useNavigation","getCurrentLesson","_currentLesson","currentUser","uid","error","console","getDailyReward","then","lastClaimDate","nowNoTime","getTime","Math","round","random","claimRewardService","setTimeout","runSequential","useFocusEffect","useCallback","View","dataSet","media","uri","noImage","seasonName","timelineName","capitalize","params","forSeason","title","appBarTitle","navigate","screen","initial","ActivityIndicator","avatar","username","image","label","substring","toUpperCase","place","medalColors","gold","silver","bronze","surfaceContainer","content","styledAvatar","contentText","contentPlace","Ionicons","placeText","margin","flexDirection","direction","children","Dimensions","height","edgeValues","left","right","top","bottom","startValue","springConfig","useSpring","position","from","to","config","mass","tension","friction","translateProperty","springStyle","animated","setCurrentUser","users","setUsers","updateCurrentUser","userData","_currentUser","userXP","where","querySnapshot","docs","reduce","acc","snapshotHandler","errorHandler","unsubscribeUser","onSnapshot","unsubscribeUsers","orderBy","limit","currentPlace","forEach","push","updateUsersSorted","FlatList","keyExtractor","user","renderItem","props","item","ListHeaderComponent","meCard","contentContainerStyle","topUsersContainer","showsVerticalScrollIndicator","showsHorizontalScrollIndicator","palette","primary","accent","danger","success","info","logo","textDisabled","surfaceMaterials","onSurfaceInput","light","dark","surfaceInput","surfacePicker","surfaceCard","customMaterials","divider","hasLoggedIn","setHasLoggedIn","onAuthStateChanged","Boolean","token","Platform","Notifications","importance","vibrationPattern","Device","isDevice","existingStatus","status","finalStatus","alert","log","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","signUpUser","newUser","email","password","notification_token","registerForPushNotificationsAsync","unlocked_seasons","unlocked_lessons","spring","summer","autumn","winter","completed_lessons","collected_rewards","createUserWithEmailAndPassword","collection","set","logInUser","signInWithEmailAndPassword","Error","checkDuplicateUsername","empty","User","this","UserBuilder","adaptNavigationTheme","reactNavigationLight","NavigationDefaultTheme","reactNavigationDark","NavigationDarkTheme","AdaptedNavigationDefaultTheme","LightTheme","AdaptedNavigationDarkTheme","DarkTheme","fontConfig","fontFamily","web","ios","default","DefaultTheme","MD3LightTheme","fonts","configureFonts","roundness","version","textReverse","MD3DarkTheme","ThemeContext","createContext","useContext","ThemeProvider","darkMode","setDarkMode","currentTheme","setCurrentTheme","isFirstRun","getTheme","saveCurrentTheme","changeTheme","theme","AsyncStorage","themeProviderData","toggleTheme","Provider","value","TextInput","TextInputMobile","helperText","helperTextStyles","disabled","otherProps","inputThemeStyle","backgroundColor","useThemeCustom","backdrop","surfaceVariant","outlineVariant","onSurfaceVariant","input","editable","selectTextOnFocus","placeholderTextColor","display","useAuth","generalError","setGeneralError","handleInputFocus","replace","handleSignUpPressed","TouchableWithoutFeedback","Keyboard","globalStyles","logoView","Image","logoText","Formik","initialValues","validationSchema","Yup","trim","strict","required","onSubmit","values","setSubmitting","build","catch","touched","errors","handleBlur","handleChange","handleSubmit","isSubmitting","isValidating","inputContainer","placeholder","onChangeText","onBlur","onFocus","secureTextEntry","buttonContent","buttonColor","textColor","borderTopLeftRadius","borderTopRightRadius","marginRight","maxWidth","paddingBottom","marginHorizontal","handleLoginPressed","confirmPassword","min","max","oneOf","setErrors","code","buttonRight","paddingLeft","subtitle","onCardPress","locked","ImageBackground","card","imageStyle","cardImage","rippleColor","Card","cardContent","paragraph","MaterialIcons","lock","smallerText","updateSeasonsDataBySeasonNames","seasons","seasonReferences","map","unsubscribeArray","reference","unsubscribe","card_count","id","seasonsData","updateUnlockedSeasons","findTimelineDataBySeason","findUnlockedLessonsBySeason","findLesson","lessonRef","findReward","rewardRef","completeLesson","lessonIndex","rewardId","document","withNewCompletedLesson","updatedData","withNewReward","checkCompletedLesson","includes","unlockNewLesson","withNewUnlockedLesson","unlockNexSeason","withNewUnlockedSeason","LessonsContext","useLessonsInfo","LessonsProvider","setSeasonsData","unlockedSeasons","setUnlockedSeasons","currentLessonRef","setCurrentLessonRef","currentSeason","setCurrentSeason","currentLessonIndex","setCurrentLessonIndex","lessonData","setLessonData","rewardData","setRewardData","currentStep","setCurrentStep","lessonFinished","setLessonFinished","pageCount","questionCount","stepsCount","counter","setCounter","handleUpdatedSeasonsData","newSeasonData","prevSeasonsData","getTimelineDataBySeason","getUnlockedLessonsBySeason","getLessonReward","_reward","loadLessonData","_lessonData","questions","Object","keys","length","prevCounter","determineCounts","xp_reward","completeLessonService","checkCompletedLessonService","nextLessonIndex","unlockNewLessonService","unlockNewSeason","nextSeasonIndex","indexOf","nextSeason","unlockNewSeasonService","unsubscribeUnlockedSeasons","unsubscribeSeasonsData","getSeasonsData","lessonsData","unloadLessonData","tryUnlockNewLessonOrSeason","last_for_season","handleCardPress","ScrollView","flexContainer","scrollContainer","seasonsContainer","cardContainer","springImage","summerImage","autumnImage","winterImage","aspectRatio","flexWrap","gap","circle","level4","lockContainer","inverseOnSurface","zIndex","date","expanded","onExpand","handlePlayPressed","cardRipple","contentWrapper","playButton","timeline","borderLeftWidth","route","expandedIndex","setExpandedIndex","cards","setCards","jumpToLessonIndex","setJumpToLessonIndex","flatListRef","remapHolidays","unlockedLessons","holiday","celebrated_on","holidaysWithMeta","scrollToIndex","handleOnScrollToIndexFailed","Promise","resolve","timelineWrapper","ref","onScrollToIndexFailed","ListEmptyComponent","indicator","timelineContainer","steps","stepMarkers","Array","fill","_","step","stepContainer","lessonContainer","contentContainer","type","imageContainer","resizeMode","constructComponent","paddingTop","minWidth","maxHeight","QuestionContext","useQuestionInfo","QuestionProvider","question","currentChoice","setCurrentChoice","questionState","setQuestionState","resetQuestionState","useLayoutEffect","questionData","checkAnswer","answer","selectIndex","cardState","setCardState","themedStyle","cardSurface","checkCardDisabled","questionContainer","answerContainer","choices","choice","fullWidth","onBackButtonPress","onActionButtonPress","actionButtonText","actionButtonDisabled","themedStyles","borderTopColor","navigationContainer","IconButton","icon","backButton","actionButton","borderTopWidth","marginLeft","goBack","nextStep","setActionButtonText","state","setActionTextFromState","triggerLessonFinish","goNext","lesson","Fragment","holiday_name","currentQuestion","getQuestionContent","handleContinuePress","Modal","animationType","visible","rewardText","rewardContainer","rewardXP","additionalReward","rewardImage","additionalRewardText","borderStyle","getProfilePictureURL","storeProfilePicture","filename","lastIndexOf","blob","reject","xhr","XMLHttpRequest","onload","response","onerror","TypeError","responseType","open","send","put","snapshot","URL","revokeObjectURL","getDownloadURL","getUsername","updateUserInformation","ProfileContext","useProfileInfo","ProfileProvider","setUsername","setEmail","setAvatar","updateProfile","newUsername","newAvatar","profileData","saveAvatar","uname","url","onPrimary","edit","infoContainer","listOptions","setLPickerOpen","titleStyle","Divider","Switch","onValueChange","switch","signOut","message","listItem","LanguageContext","useLanguage","LanguageProvider","currentLocale","setCurrentLocale","isTranslationLoaded","setIsTranslationLoaded","languages","getLocale","saveCurrentLocale","changeLocale","newLocale","systemLocale","locale","languageProviderData","dialog","setOpen","onLanguageChange","hideDialog","handleOnPress","Portal","Dialog","onDismiss","lPickerOpen","profileContainer","isOpen","setImage","sheetRef","React","runAfterSelectAction","result","canceled","assets","snapTo","handlePickFromCamera","ExpoImagePicker","allowsEditing","aspect","quality","handlePickFromGallery","mediaTypes","handleImagePickerClose","snapPoints","initialSnap","renderContent","bar","onSurface","optionsContainer","rippleContainer","option","optionText","onCloseEnd","fadeInDuration","pauseDuration","fadeoutDuration","onAnimationEnd","fadeAnim","isMobile","finished","opacity","fadeOutDuration","pill","setNewUsername","setNewAvatar","usernameError","setUsernameError","pickImageOpen","setPickImageOpen","notificationVisible","setNotificationVisible","verifyUsernameNotDuplicate","isDuplicate","duplicateErrorMessage","handleSaveChanges","newAvatarUploadedURL","KeyboardAvoidingView","behavior","profilePictureContainer","saveContainer","collected","rewardName","cardUnknown","cardUnknownContent","minHeight","android","rewards","setRewards","getRewards","userRewards","remappedRewards","allRewards","remapRewards","collectionContainer","columnWrapperStyle","numColumns","Appbar","elevated","createStackNavigator","Navigator","Screen","HomeStack","initialRouteName","screenOptions","headerMode","header","component","HomeScreen","LessonsStack","SeasonsScreen","options","LessonsTimeline","LessonScreen","LeaderboardStack","LeaderboardScreen","ProfileStack","ProfileScreen","MyCollectionScreen","ProfileEditScreen","createMaterialBottomTabNavigator","BottomNavigation","generateIcon","iconOutline","focused","shifting","sceneAnimationEnabled","backBehavior","compact","tabBarIcon","LoginStack","SignUpScreen","LoginScreen","ThemeWrapper","NavigationContainer","App","useFonts","require","fontsLoaded","onLayoutRootView","SplashScreen","onLayout","String","prototype","charAt","registerRootComponent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","key","splice","r","n","getter","__esModule","d","a","leafPrototypes","getProto","getPrototypeOf","obj","t","ns","create","def","getOwnPropertyNames","definition","o","defineProperty","enumerable","g","globalThis","Function","e","window","prop","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}